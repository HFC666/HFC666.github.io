<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç‹¬è‡ªèµæ™´é›¨</title>
  
  
  <link href="https://www.hfcouc.work/atom.xml" rel="self"/>
  
  <link href="https://www.hfcouc.work/"/>
  <updated>2022-07-01T11:07:54.435Z</updated>
  <id>https://www.hfcouc.work/</id>
  
  <author>
    <name>Han Fangcheng</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä¹¦ç±Thinking Juliaå‰åç« é˜…è¯»ç¬”è®°</title>
    <link href="https://www.hfcouc.work/2022/07/01/thinkjulia/"/>
    <id>https://www.hfcouc.work/2022/07/01/thinkjulia/</id>
    <published>2022-07-01T10:19:26.000Z</published>
    <updated>2022-07-01T11:07:54.435Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p align="center">    <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimglf6.lf127.net%2Fimg%2FanBSb2NqdEc5dTlseXpNTWxpY0RWQ2NwUlAyVmFEa2lFSVo0TVM4WXNwSndDMUdvN3crMS9nPT0.jpg%3FimageView%26thumbnail%3D2160x0%26quality%3D90%26interlace%3D1%26type%3Djpg&refer=http%3A%2F%2Fimglf6.lf127.net&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1659263087&t=d2faeee051aa3c102a86e173d74306ad" style="zoom: 100%;" /></p><blockquote><p>ä¹¦ç±ç½‘å€ï¼š<a href="https://benlauwens.github.io/ThinkJulia.jl/latest/book.html">https://benlauwens.github.io/ThinkJulia.jl/latest/book.html</a></p></blockquote><span id="more"></span><h2 id="The-Way-of-the-program"><a href="#The-Way-of-the-program" class="headerlink" title="The Way of the program"></a>The Way of the program</h2><h3 id="What-is-a-Program"><a href="#What-is-a-Program" class="headerlink" title="What is a Program?"></a>What is a Program?</h3><p>ä¸€ä¸ªç¨‹åºåº”è¯¥åŒ…æ‹¬ä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š</p><ul><li>è¾“å…¥ï¼šä»é”®ç›˜ã€æ–‡ä»¶ã€ç½‘ç»œæˆ–è€…å…¶ä»–è®¾å¤‡ä¸­è·å–æ•°æ®</li><li>è¾“å‡ºï¼šå°†æ•°æ®å±•ç¤ºåœ¨å±å¹•ä¸Šã€æˆ–å°†å…¶å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ã€å°†å…¶å‘é€åˆ°ç½‘ç»œä¸Šç­‰ç­‰</li><li>æ•°å­¦ï¼šæ‰§è¡ŒåŸºæœ¬çš„æ•°å­¦è¿ç®—ï¼Œå¦‚åŠ æ³•ä¹˜æ³•ç­‰</li><li>æ¡ä»¶æ‰§è¡Œï¼šæŸ¥çœ‹ç‰¹å®šçš„æ¡ä»¶å¹¶ä¸”è¿è¡Œé€‚å½“çš„ä»£ç </li><li>é‡å¤ï¼šé‡å¤åœ°åšä¸€äº›åŠ¨ä½œï¼Œé€šå¸¸æœ‰ä¸€äº›å˜åŒ–</li></ul><h3 id="The-First-Program"><a href="#The-First-Program" class="headerlink" title="The First Program"></a>The First Program</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; println(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure><h3 id="Arithmetic-Operators"><a href="#Arithmetic-Operators" class="headerlink" title="Arithmetic Operators"></a>Arithmetic Operators</h3><p>ç¬¦å·<code>+</code>ï¼Œ<code>-</code>ï¼Œ<code>*</code>ï¼Œ<code>/</code>ï¼Œ<code>^</code>åˆ†åˆ«è¡¨ç¤ºåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•ã€å¹‚è¿ç®—ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="number">40</span> + <span class="number">2</span>         </span><br><span class="line"><span class="number">42</span>                    </span><br><span class="line">                      </span><br><span class="line">julia&gt; <span class="number">43</span> - <span class="number">1</span>         </span><br><span class="line"><span class="number">42</span>                    </span><br><span class="line">                      </span><br><span class="line">julia&gt; <span class="number">6</span> * <span class="number">7</span>          </span><br><span class="line"><span class="number">42</span>                    </span><br><span class="line">                      </span><br><span class="line">julia&gt; <span class="number">84</span> / <span class="number">2</span>         </span><br><span class="line"><span class="number">42.0</span>                  </span><br><span class="line">                      </span><br><span class="line">julia&gt; <span class="number">6</span> ^ <span class="number">2</span> + <span class="number">6</span>      </span><br><span class="line"><span class="number">42</span>                    </span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„åœ¨é™¤æ³•ä¸­æˆ‘ä»¬å¾—åˆ°æ˜¯$42.0$è€Œä¸æ˜¯$42$ï¼Œåé¢æˆ‘ä»¬ä¼šè§£é‡ŠåŸå› ã€‚</p></blockquote><h3 id="Values-and-Types"><a href="#Values-and-Types" class="headerlink" title="Values and Types"></a>Values and Types</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>typeof</code>å‡½æ•°æ¥è·å–ç±»å‹ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; typeof(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">Int64</span></span><br><span class="line"></span><br><span class="line">julia&gt; typeof(<span class="number">42.0</span>)</span><br><span class="line"><span class="built_in">Float64</span></span><br><span class="line"></span><br><span class="line">julia&gt; typeof(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line"><span class="built_in">String</span></span><br></pre></td></tr></table></figure><h2 id="Variables-Expressions-and-Statements"><a href="#Variables-Expressions-and-Statements" class="headerlink" title="Variables, Expressions and Statements"></a>Variables, Expressions and Statements</h2><h3 id="Assignment-Statements"><a href="#Assignment-Statements" class="headerlink" title="Assignment Statements"></a>Assignment Statements</h3><p>ä½¿ç”¨<code>=</code>å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; n = <span class="number">17</span></span><br><span class="line"><span class="number">17</span></span><br></pre></td></tr></table></figure><h3 id="Variable-Names"><a href="#Variable-Names" class="headerlink" title="Variable Names"></a>Variable Names</h3><p>å‘½åå¯ä»¥é‡‡ç”¨å­—æ¯ã€æ•°å­—å’Œ<code>_</code>ï¼Œä½†æ˜¯æ•°å­—ä¸èƒ½åœ¨å¼€å¤´ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨å…³é”®å­—ã€‚</p><p>ä¸‹é¢ä¸º<code>Julia</code>çš„å…³é”®å­—ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract type</span>    <span class="keyword">baremodule</span>   <span class="keyword">begin</span>      <span class="keyword">break</span>       <span class="keyword">catch</span></span><br><span class="line"><span class="keyword">const</span>            <span class="keyword">continue</span>     <span class="keyword">do</span>         <span class="keyword">else</span>        <span class="keyword">elseif</span></span><br><span class="line"><span class="keyword">end</span>              <span class="keyword">export</span>       <span class="keyword">finally</span>    <span class="keyword">for</span>         <span class="keyword">function</span></span><br><span class="line"><span class="keyword">global</span>           <span class="keyword">if</span>           <span class="keyword">import</span>     importall   <span class="keyword">in</span></span><br><span class="line"><span class="keyword">let</span>              <span class="keyword">local</span>        <span class="keyword">macro</span>      <span class="keyword">module</span>      <span class="keyword">mutable struct</span></span><br><span class="line"><span class="keyword">primitive type</span>   <span class="keyword">quote</span>        <span class="keyword">return</span>     <span class="keyword">try</span>         <span class="keyword">using</span></span><br><span class="line"><span class="keyword">struct</span>           <span class="keyword">where</span>        <span class="keyword">while</span></span><br></pre></td></tr></table></figure><h3 id="Expressions-and-Statements"><a href="#Expressions-and-Statements" class="headerlink" title="Expressions and Statements"></a>Expressions and Statements</h3><p>è¡¨è¾¾å¼æ˜¯å€¼ï¼ˆvaluesï¼‰ã€å˜é‡ï¼ˆvariablesï¼‰å’Œç¬¦å·ï¼ˆoperatorsï¼‰çš„ç»„åˆã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="number">42</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"></span><br><span class="line">julia&gt; n</span><br><span class="line"><span class="number">17</span></span><br><span class="line"></span><br><span class="line">julia&gt; n + <span class="number">25</span></span><br><span class="line"><span class="number">42</span></span><br></pre></td></tr></table></figure><p>è¯­å¥æ˜¯å…·æœ‰æ•ˆæœçš„ä»£ç å•ä½ï¼Œä¾‹å¦‚åˆ›å»ºå˜é‡æˆ–æ˜¾ç¤ºå€¼ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; n = <span class="number">17</span></span><br><span class="line"><span class="number">17</span></span><br><span class="line"></span><br><span class="line">julia&gt; println(n)</span><br><span class="line"><span class="number">17</span></span><br></pre></td></tr></table></figure><h3 id="Operator-Precedence"><a href="#Operator-Precedence" class="headerlink" title="Operator Precedence"></a>Operator Precedence</h3><p>æ‹¬å·ä¼˜å…ˆçº§æœ€é«˜ï¼Œå…¶æ¬¡æ˜¯å¹‚ï¼Œä¹‹åæ˜¯ä¹˜é™¤æ³•ã€åŠ å‡æ³•ä¼˜å…ˆçº§æœ€ä½ã€‚</p><h3 id="String-Operations"><a href="#String-Operations" class="headerlink" title="String Operations"></a>String Operations</h3><p><code>*</code>è¡¨ç¤ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ<code>^</code>è¡¨ç¤ºå­—ç¬¦ä¸²é‡å¤ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; first_str = <span class="string">&quot;throat&quot;</span></span><br><span class="line"><span class="string">&quot;throat&quot;</span></span><br><span class="line"></span><br><span class="line">julia&gt; second_str = <span class="string">&quot;warbler&quot;</span></span><br><span class="line"><span class="string">&quot;warbler&quot;</span></span><br><span class="line"></span><br><span class="line">julia&gt; first_str * second_str</span><br><span class="line"><span class="string">&quot;throatwarbler&quot;</span></span><br><span class="line"></span><br><span class="line">julia&gt; <span class="string">&quot;Spam&quot;</span>^<span class="number">3</span></span><br><span class="line"><span class="string">&quot;SpamSpamSpam&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h3><p>æ³¨é‡Šç”¨<code>#</code>ã€‚</p><h3 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h3><p><code>Julia</code>ä¸­å­˜åœ¨ä¸‰ç§é”™è¯¯ã€‚</p><ul><li>è¯­æ³•é”™è¯¯(Syntax error)ï¼šè¯­æ³•æŒ‡çš„æ˜¯ç¨‹åºçš„ç»“æ„å’Œå…³äºè¯¥ç»“æ„çš„è§„åˆ™ã€‚å¦‚æ‹¬å·å°‘ä¸€è¾¹ã€‚</li><li>è¿è¡Œæ—¶é”™è¯¯(Runtime error)ï¼šæŒ‡çš„æ˜¯ç¨‹åºè¿è¡Œæ—¶å‡ºé”™ï¼Œä¹Ÿè¢«ç§°ä¸ºå¼‚å¸¸ã€‚</li><li>è¯­ä¹‰é”™è¯¯(Semantic error)ï¼šè¿™ç§é”™è¯¯ç¨‹åºä¼šè¿è¡Œï¼Œä½†æ˜¯å¾—åˆ°çš„ç»“æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</li></ul><h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><h3 id="Function-Calls"><a href="#Function-Calls" class="headerlink" title="Function Calls"></a>Function Calls</h3><p>æˆ‘ä»¬ä¹‹å‰å·²ç»çœ‹åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ä¾‹å­ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; println(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure><p><code>Println()</code>æ˜¯å‡½æ•°çš„åå­—ï¼Œæ‹¬å·é‡Œé¢æ˜¯å‡½æ•°çš„å‚æ•°ã€‚</p><p><code>Julia</code>æä¾›ä¸€äº›ç±»å‹è½¬æ¢çš„å‡½æ•°ï¼š</p><p><code>parse</code>å‡½æ•°å°†å­—ç¬¦ä¸²ç±»å‹è½¬ä¸ºä»»ä½•æ•°å­—(number)ç±»å‹</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; parse(<span class="built_in">Int64</span>, <span class="string">&quot;32&quot;</span>)</span><br><span class="line"><span class="number">32</span></span><br><span class="line"></span><br><span class="line">julia&gt; parse(<span class="built_in">Float64</span>, <span class="string">&quot;3.14159&quot;</span>)</span><br><span class="line"><span class="number">3.14159</span></span><br><span class="line"></span><br><span class="line">julia&gt; parse(<span class="built_in">Int64</span>, <span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">ERROR: <span class="built_in">ArgumentError</span>: invalid base <span class="number">10</span> digit <span class="string">&#x27;H&#x27;</span> <span class="keyword">in</span> <span class="string">&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure><p><code>trunc</code>å¯ä»¥å°†å­—ç¬¦ä¸²æˆªæ–­ä¸ºæ•´æ•°ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; trunc(<span class="built_in">Int64</span>, <span class="number">3.9999</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line">julia&gt; trunc(<span class="built_in">Int64</span>, -<span class="number">2.3</span>)</span><br><span class="line">-<span class="number">2</span></span><br></pre></td></tr></table></figure><p><code>float</code>å°†æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; float(<span class="number">24</span>)</span><br><span class="line"><span class="number">24.0</span></span><br></pre></td></tr></table></figure><p><code>string</code>å°†å‚æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; string(<span class="number">32</span>)</span><br><span class="line"><span class="string">&quot;32&quot;</span></span><br><span class="line"></span><br><span class="line">julia&gt; string(<span class="number">32.2</span>)</span><br><span class="line"><span class="string">&quot;32.2&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Adding-New-Functions"><a href="#Adding-New-Functions" class="headerlink" title="Adding New Functions"></a>Adding New Functions</h3><p>æˆ‘ä»¬ä½¿ç”¨<code>function</code>å®šä¹‰å‡½æ•°ï¼Œä»¥<code>end</code>ç»“æŸã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printlyrics()</span><br><span class="line">    println(<span class="string">&quot;I&#x27;m a lumberjack, and I&#x27;m okay.&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;I sleep all night and I work all day.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‡½æ•°ä¸­è°ƒç”¨å‡½æ•°ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> repeatlyrics()</span><br><span class="line">    printlyrics()</span><br><span class="line">    printlyrics()</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><blockquote><p> å‡½æ•°åœ¨è¿è¡Œå‰å¿…é¡»è¢«å®šä¹‰ã€‚</p></blockquote><h3 id="Parameters-and-Arguments"><a href="#Parameters-and-Arguments" class="headerlink" title="Parameters and Arguments"></a>Parameters and Arguments</h3><p>ä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå«æœ‰å‚æ•°çš„å‡½æ•°ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printtwice(bruce)</span><br><span class="line">    println(bruce)</span><br><span class="line">    println(bruce)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä¼ å…¥çš„å‚æ•°å¯ä»¥æ˜¯å€¼(value)ã€è¡¨è¾¾å¼å’Œå˜é‡ã€‚</p><h3 id="Variables-and-Parameters-Are-Local"><a href="#Variables-and-Parameters-Are-Local" class="headerlink" title="Variables and Parameters Are Local"></a>Variables and Parameters Are Local</h3><p>å‡½æ•°çš„å˜é‡å’Œå‚æ•°æ˜¯å±€éƒ¨çš„ã€‚</p><h3 id="Fruitful-Functions-and-Void-Functions"><a href="#Fruitful-Functions-and-Void-Functions" class="headerlink" title="Fruitful Functions and Void Functions"></a>Fruitful Functions and Void Functions</h3><p>æœ‰è¿”å›å€¼çš„å‡½æ•°ç§°ä¸ºFruitful Functionsï¼Œæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ç§°ä¸ºVoid Functionsã€‚æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°çš„è¿”å›å€¼ä¸º<code>nothing</code>ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨<code>show</code>å‡½æ•°æ‰“å°ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; result = printtwice(<span class="string">&quot;Bing&quot;</span>)</span><br><span class="line">Bing</span><br><span class="line">Bing</span><br><span class="line">julia&gt; show(result)</span><br><span class="line"><span class="literal">nothing</span></span><br></pre></td></tr></table></figure><p><code>nothing</code>çš„ç±»å‹ä¸º<code>Nothing</code>ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; typeof(<span class="literal">nothing</span>)</span><br><span class="line"><span class="built_in">Nothing</span></span><br></pre></td></tr></table></figure><h2 id="Case-Study-Interface-Design"><a href="#Case-Study-Interface-Design" class="headerlink" title="Case Study: Interface Design"></a>Case Study: Interface Design</h2><h3 id="Turtles"><a href="#Turtles" class="headerlink" title="Turtles"></a>Turtles</h3><p>æˆ‘ä»¬ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ä¸‹è½½æ‰€éœ€è¦çš„åŒ…ï¼š</p><p>é¦–å…ˆåœ¨<code>REPL</code>ä¸‹æŒ‰<code>]</code>é”®è°ƒå‡ºåŒ…ç®¡ç†ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(v1<span class="number">.0</span>) pkg&gt; add https://github.com/BenLauwens/ThinkJulia.jl</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="keyword">using</span> ThinkJulia</span><br><span class="line"></span><br><span class="line">julia&gt; ğŸ¢ = Turtle()</span><br><span class="line">Luxor.Turtle(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="literal">true</span>, <span class="number">0.0</span>, (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>))</span><br></pre></td></tr></table></figure><blockquote><p> è¾“å…¥ï¼š<code>ğŸ¢</code> (<strong><code>\:turtle: TAB</code></strong>)ã€‚</p></blockquote><p>ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªä¹Œé¾Ÿï¼Œå¯ä»¥è°ƒç”¨å‡½æ•°æ¥è®©ä»–ç§»åŠ¨ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@svg</span> <span class="keyword">begin</span></span><br><span class="line">    forward(ğŸ¢, <span class="number">100</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><code>@svg</code>å…³é”®å­—è¿è¡Œä¸€ä¸ªç»˜åˆ¶SVGå›¾ç‰‡çš„å®ã€‚å®æ˜¯Juliaçš„ä¸€ä¸ªé‡è¦ä½†é«˜çº§çš„ç‰¹æ€§ã€‚</p><p>ä¸ºäº†ç»˜åˆ¶ç›´è§’ï¼Œä¿®æ”¹å®</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ğŸ¢ = Turtle()</span><br><span class="line"><span class="meta">@svg</span> <span class="keyword">begin</span></span><br><span class="line">    forward(ğŸ¢, <span class="number">100</span>)</span><br><span class="line">    turn(ğŸ¢, -<span class="number">90</span>)</span><br><span class="line">    forward(ğŸ¢, <span class="number">100</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Simple-Repetition"><a href="#Simple-Repetition" class="headerlink" title="Simple Repetition"></a>Simple Repetition</h3><p>æˆ‘ä»¬ä½¿ç”¨<code>for</code>å¾ªç¯æ¥ç»˜åˆ¶ä¸€ä¸ªæ­£æ–¹å½¢ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ğŸ¢ = Turtle()</span><br><span class="line"><span class="meta">@svg</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">4</span></span><br><span class="line">        forward(ğŸ¢, <span class="number">100</span>)</span><br><span class="line">        turn(ğŸ¢, -<span class="number">90</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Conditionals-and-Recursion"><a href="#Conditionals-and-Recursion" class="headerlink" title="Conditionals and Recursion"></a>Conditionals and Recursion</h2><h3 id="Floor-Division-and-Modulus"><a href="#Floor-Division-and-Modulus" class="headerlink" title="Floor Division and Modulus"></a>Floor Division and Modulus</h3><p><code>floor division</code>ç¬¦å·<code>Ã·</code> (<strong><code>\div TAB</code></strong>)ï¼Œä¸¤ä¸ªæ•°å­—ç›¸é™¤åå¾—åˆ°æ•´æ•°ã€‚å–ä½™ç¬¦å·<code>%</code>å¾—åˆ°ä½™æ•°ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; minutes = <span class="number">105</span>            </span><br><span class="line"><span class="number">105</span>                             </span><br><span class="line">                                </span><br><span class="line">julia&gt; hours = minutesÃ·<span class="number">60</span>       </span><br><span class="line"><span class="number">1</span>                               </span><br><span class="line">                                </span><br><span class="line">julia&gt; remainder = minutes % <span class="number">60</span> </span><br><span class="line"><span class="number">45</span>                              </span><br></pre></td></tr></table></figure><h3 id="Boolean-Expressions"><a href="#Boolean-Expressions" class="headerlink" title="Boolean Expressions"></a>Boolean Expressions</h3><p>å¸ƒå°”è¡¨è¾¾å¼ä¸ºç»“æœä¸ºçœŸæˆ–å‡çš„è¡¨è¾¾å¼ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x == y               <span class="comment"># x is equal to y</span></span><br><span class="line">x != y               <span class="comment"># x is not equal to y</span></span><br><span class="line">x â‰  y                <span class="comment"># (\ne TAB)</span></span><br><span class="line">x &gt; y                <span class="comment"># x is greater than y</span></span><br><span class="line">x &lt; y                <span class="comment"># x is less than y</span></span><br><span class="line">x &gt;= y               <span class="comment"># x is greater than or equal to y</span></span><br><span class="line">x â‰¥ y                <span class="comment"># (\ge TAB)</span></span><br><span class="line">x &lt;= y               <span class="comment"># x is less than or equal to y</span></span><br><span class="line">x â‰¤ y                <span class="comment"># (\le TAB)</span></span><br></pre></td></tr></table></figure><h3 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h3><p>ä¸<code>&amp;&amp;</code></p><p>æˆ–<code>||</code></p><p>é<code>!</code></p><p>å…¶ä¸­<code>&amp;&amp;</code>çš„ä¼˜å…ˆçº§é«˜äº<code>||</code>ã€‚</p><h3 id="Conditional-Execution"><a href="#Conditional-Execution" class="headerlink" title="Conditional Execution"></a>Conditional Execution</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x &gt; <span class="number">0</span></span><br><span class="line">    println(<span class="string">&quot;x is positive&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Alternative-Execution"><a href="#Alternative-Execution" class="headerlink" title="Alternative Execution"></a>Alternative Execution</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line">    println(<span class="string">&quot;x is even&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    println(<span class="string">&quot;x is odd&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Chained-Conditionals"><a href="#Chained-Conditionals" class="headerlink" title="Chained Conditionals"></a>Chained Conditionals</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x &lt; y</span><br><span class="line">    println(<span class="string">&quot;x is less than y&quot;</span>)</span><br><span class="line"><span class="keyword">elseif</span> x &gt; y</span><br><span class="line">    println(<span class="string">&quot;x is greater than y&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    println(<span class="string">&quot;x and y are equal&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Nested-Conditionals"><a href="#Nested-Conditionals" class="headerlink" title="Nested Conditionals"></a>Nested Conditionals</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x == y</span><br><span class="line">    println(<span class="string">&quot;x and y are equal&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; y</span><br><span class="line">        println(<span class="string">&quot;x is less than y&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        println(<span class="string">&quot;x is greater than y&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">0</span> &lt; x &lt; <span class="number">10</span></span><br><span class="line">    println(<span class="string">&quot;x is a positive single-digit number.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>å‡½æ•°è‡ªå·±è°ƒç”¨è‡ªå·±è¢«ç§°ä¸ºé€’å½’ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printn(s, n)</span><br><span class="line">    <span class="keyword">if</span> n â‰¤ <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    println(s)</span><br><span class="line">    printn(s, n-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Keyboard-Input"><a href="#Keyboard-Input" class="headerlink" title="Keyboard Input"></a>Keyboard Input</h3><p><code>Julia</code>æä¾›å†…å»ºå‡½æ•°<code>readline</code>æ¥åœæ­¢ç¨‹åºæ¥ç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸€äº›ä¸œè¥¿ï¼Œå½“ç”¨æˆ·é”®å…¥<code>RETURN</code>æˆ–<code>ENTERN</code>æ—¶ç¨‹åºç»§ç»­è¿è¡Œï¼Œ<code>readline</code>ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›ç”¨æˆ·è¾“å…¥çš„å†…å®¹ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; text = readline()</span><br><span class="line">What are you waiting <span class="keyword">for</span>?</span><br><span class="line"><span class="string">&quot;What are you waiting for?&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Fruitful-Functions"><a href="#Fruitful-Functions" class="headerlink" title="Fruitful Functions"></a>Fruitful Functions</h2><h3 id="Return-Values"><a href="#Return-Values" class="headerlink" title="Return Values"></a>Return Values</h3><p>å‡½æ•°å…·æœ‰è¿”å›å€¼ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> area(radius)</span><br><span class="line">    a = <span class="literal">Ï€</span> * radius^<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥çœç•¥<code>return</code>ï¼Œé»˜è®¤æœ€åä¸€è¡Œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> area(radius)</span><br><span class="line">    <span class="literal">Ï€</span> * radius^<span class="number">2</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Checking-Types"><a href="#Checking-Types" class="headerlink" title="Checking Types"></a>Checking Types</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fact(n)</span><br><span class="line">    <span class="keyword">if</span> !(n <span class="keyword">isa</span> <span class="built_in">Int64</span>)</span><br><span class="line">        error(<span class="string">&quot;Factorial is only defined for integers.&quot;</span>)</span><br><span class="line">    <span class="keyword">elseif</span> n &lt; <span class="number">0</span></span><br><span class="line">        error(<span class="string">&quot;Factorial is not defined for negative integers.&quot;</span>)</span><br><span class="line">    <span class="keyword">elseif</span> n == <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> n * fact(n-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h2><h3 id="The-while-Statement"><a href="#The-while-Statement" class="headerlink" title="The while Statement"></a>The <code>while</code> Statement</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> countdown(n)</span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span></span><br><span class="line">        print(n, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    println(<span class="string">&quot;Blastoff!&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h4 id="break"><a href="#break" class="headerlink" title="break"></a>break</h4><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line">    print(<span class="string">&quot;&gt; &quot;</span>)</span><br><span class="line">    line = readline()</span><br><span class="line">    <span class="keyword">if</span> line == <span class="string">&quot;done&quot;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    println(line)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">println(<span class="string">&quot;Done!&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h4><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">10</span></span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    print(i, <span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h2><h3 id="Characters"><a href="#Characters" class="headerlink" title="Characters"></a>Characters</h3><p>ä¸€ä¸ªå­—ç¬¦ç”¨å•å¼•å·<code>&#39;&#39;</code>åŒ…è£¹ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="string">&#x27;x&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>: ASCII/Unicode U+<span class="number">0078</span> (category Ll: Letter, lowercase)</span><br><span class="line">julia&gt; &#x27;ğŸŒ&#x27;</span><br><span class="line">&#x27;ğŸŒ&#x27;: Unicode U+<span class="number">01f34</span>c (category So: <span class="built_in">Symbol</span>, other)</span><br><span class="line">julia&gt; typeof(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line"><span class="built_in">Char</span></span><br></pre></td></tr></table></figure><h3 id="A-String-Is-a-Sequence"><a href="#A-String-Is-a-Sequence" class="headerlink" title="A String Is a Sequence"></a>A String Is a Sequence</h3><p>æˆ‘ä»¬å¯ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œç´¢å¼•ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; fruit = <span class="string">&quot;banana&quot;</span></span><br><span class="line"><span class="string">&quot;banana&quot;</span></span><br><span class="line">julia&gt; letter = fruit[<span class="number">1</span>]</span><br><span class="line"><span class="string">&#x27;b&#x27;</span>: ASCII/Unicode U+<span class="number">0062</span> (category Ll: Letter, lowercase)</span><br><span class="line">julia&gt; fruit[<span class="keyword">end</span>]</span><br><span class="line"><span class="string">&#x27;a&#x27;</span>: ASCII/Unicode U+<span class="number">0061</span> (category Ll: Letter, lowercase)</span><br></pre></td></tr></table></figure><h3 id="length"><a href="#length" class="headerlink" title="length"></a><code>length</code></h3><p><code>length</code>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; fruits = <span class="string">&quot;ğŸŒ ğŸ ğŸ&quot;</span></span><br><span class="line"><span class="string">&quot;ğŸŒ ğŸ ğŸ&quot;</span></span><br><span class="line">julia&gt; len = length(fruits)</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²æ˜¯ä½¿ç”¨<code>UTF-8</code>è¿›è¡Œç¼–ç çš„ã€‚<code>UTF-8</code>æ˜¯ä¸€ä¸ªå¯å˜å®½åº¦çš„ç¼–ç ï¼Œè¿™æ„å‘³ç€å¹¶éæ‰€æœ‰å­—ç¬¦å‡ä»¥ç›¸åŒæ•°é‡çš„å­—èŠ‚ç¼–ç ã€‚å› æ­¤æˆ‘ä»¬ç´¢å¼•å¯èƒ½ä¼šå‡ºé”™ã€‚</p><p>å‡½æ•°<code>sizeof</code>å¯ä»¥ç»™å‡ºå­—ç¬¦ä¸²çš„å­—èŠ‚æ•°ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; sizeof(<span class="string">&quot;ğŸŒ&quot;</span>)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><p>è¿™æ„å‘³ç€<code>UTF-8</code>ç¼–ç çš„å­—ç¬¦ä¸²ä¸­çš„å­—èŠ‚ç´¢å¼•å¹¶ä¸æ˜¯å¹¶ä¸æ€»æ˜¯ä¸€ä¸ªå­—ç¬¦çš„åˆç†çš„ç´¢å¼•ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; fruits[<span class="number">2</span>]</span><br><span class="line">ERROR: <span class="built_in">StringIndexError</span>(<span class="string">&quot;ğŸŒ ğŸ ğŸ&quot;</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="Traversal"><a href="#Traversal" class="headerlink" title="Traversal"></a>Traversal</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">index = firstindex(fruits)</span><br><span class="line"><span class="keyword">while</span> index &lt;= sizeof(fruits)</span><br><span class="line">    letter = fruits[index]</span><br><span class="line">    println(letter)</span><br><span class="line">    <span class="keyword">global</span> index = nextind(fruits, index)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p><code>nextind</code>è¿”å›ä¸‹ä¸€ä¸ªåˆç†çš„ç´¢å¼•ï¼›<code>prevind</code>æŸ¥æ‰¾å‰ä¸€ä¸ªåˆç†çš„ç´¢å¼•ã€‚</p><h3 id="String-Slices"><a href="#String-Slices" class="headerlink" title="String Slices"></a>String Slices</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; str = <span class="string">&quot;Julius Caesar&quot;</span>;</span><br><span class="line"></span><br><span class="line">julia&gt; str[<span class="number">1</span>:<span class="number">6</span>]</span><br><span class="line"><span class="string">&quot;Julius&quot;</span></span><br><span class="line">julia&gt; str[:]</span><br><span class="line"><span class="string">&quot;Julius Caesar&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Strings-Are-Immutable"><a href="#Strings-Are-Immutable" class="headerlink" title="Strings Are Immutable"></a>Strings Are Immutable</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; greeting = <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"><span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line">julia&gt; greeting[<span class="number">1</span>] = <span class="string">&#x27;J&#x27;</span></span><br><span class="line">ERROR: <span class="built_in">MethodError</span>: no method matching setindex!(::<span class="built_in">String</span>, ::<span class="built_in">Char</span>, ::<span class="built_in">Int64</span>)</span><br></pre></td></tr></table></figure><h3 id="String-Interpolation"><a href="#String-Interpolation" class="headerlink" title="String Interpolation"></a>String Interpolation</h3><p>ä½¿ç”¨ç¬¦å·<code>$</code>å¯ä»¥å°†è¡¨è¾¾å¼çš„å€¼æ’å…¥åˆ°å­—ç¬¦ä¸²ä¸­ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; greet = <span class="string">&quot;Hello&quot;</span>  </span><br><span class="line"><span class="string">&quot;Hello&quot;</span>                 </span><br><span class="line">                        </span><br><span class="line">julia&gt; whom = <span class="string">&quot;World&quot;</span>   </span><br><span class="line"><span class="string">&quot;World&quot;</span>                 </span><br><span class="line"></span><br><span class="line">julia&gt; <span class="string">&quot;<span class="subst">$(greet)</span>, <span class="subst">$(whom)</span>!&quot;</span></span><br><span class="line"><span class="string">&quot;Hello, World!&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> find(word, letter)</span><br><span class="line">    index = firstindex(word)</span><br><span class="line">    <span class="keyword">while</span> index &lt;= sizeof(word)</span><br><span class="line">        <span class="keyword">if</span> word[index] == letter</span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        index = nextind(word, index)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    -<span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Looping-and-Counting"><a href="#Looping-and-Counting" class="headerlink" title="Looping and Counting"></a>Looping and Counting</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">word = <span class="string">&quot;banana&quot;</span></span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> word</span><br><span class="line">    <span class="keyword">if</span> letter == <span class="string">&#x27;a&#x27;</span></span><br><span class="line">        <span class="keyword">global</span> counter = counter + <span class="number">1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">println(counter)</span><br></pre></td></tr></table></figure><h3 id="String-Library"><a href="#String-Library" class="headerlink" title="String Library"></a>String Library</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; uppercase(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line"><span class="string">&quot;HELLO, WORLD!&quot;</span></span><br><span class="line"></span><br><span class="line">julia&gt; findfirst(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;banana&quot;</span>)</span><br><span class="line"><span class="number">2</span>:<span class="number">2</span></span><br><span class="line"></span><br><span class="line">julia&gt; findfirst(<span class="string">&quot;na&quot;</span>, <span class="string">&quot;banana&quot;</span>)</span><br><span class="line"><span class="number">3</span>:<span class="number">4</span></span><br><span class="line"></span><br><span class="line">julia&gt; findnext(<span class="string">&quot;na&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="number">4</span>)</span><br><span class="line"><span class="number">5</span>:<span class="number">6</span></span><br></pre></td></tr></table></figure><h3 id="The-âˆˆ-Operator"><a href="#The-âˆˆ-Operator" class="headerlink" title="The âˆˆ Operator"></a>The <code>âˆˆ</code> Operator</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; <span class="string">&#x27;a&#x27;</span> âˆˆ <span class="string">&quot;banana&quot;</span>    <span class="comment"># &#x27;a&#x27; in &quot;banana&quot;</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="String-Comparison"><a href="#String-Comparison" class="headerlink" title="String Comparison"></a>String Comparison</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">word = <span class="string">&quot;Pineapple&quot;</span></span><br><span class="line"><span class="keyword">if</span> word &lt; <span class="string">&quot;banana&quot;</span></span><br><span class="line">    println(<span class="string">&quot;Your word, <span class="subst">$(word)</span>, comes before banana.&quot;</span>)</span><br><span class="line"><span class="keyword">elseif</span> word &gt; <span class="string">&quot;banana&quot;</span></span><br><span class="line">    println(<span class="string">&quot;Your word, <span class="subst">$(word)</span>, comes after banana.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    println(<span class="string">&quot;All right, bananas.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">&gt; Your word, Pineapple, comes before banana.</span><br></pre></td></tr></table></figure><h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p><code>Array</code>ä¸º<code>Julia</code>å†…ç½®çš„æ•°æ®ç»“æ„ã€‚</p><h3 id="An-Array-is-a-Sequence"><a href="#An-Array-is-a-Sequence" class="headerlink" title="An Array is a Sequence"></a>An Array is a Sequence</h3><p>æ•°ç»„ä¸­å…ƒç´ ä¸ä¸€å®šè¦æ˜¯åŒä¸€ç§ç±»å‹ï¼Œæœ€ç®€å•çš„åˆ›å»ºæ•°ç»„çš„æ–¹æ³•æ˜¯ç”¨ä¸­æ‹¬å·<code>[]</code>ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&quot;spam&quot;</span>, <span class="number">2.0</span>, <span class="number">5</span>, [<span class="number">10</span>, <span class="number">20</span>]]</span><br></pre></td></tr></table></figure><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; cheeses = [<span class="string">&quot;Cheddar&quot;</span>, <span class="string">&quot;Edam&quot;</span>, <span class="string">&quot;Gouda&quot;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; numbers = [<span class="number">42</span>, <span class="number">123</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; empty = [];</span><br><span class="line"></span><br><span class="line">julia&gt; print(cheeses, <span class="string">&quot; &quot;</span>, numbers, <span class="string">&quot; &quot;</span>, empty)</span><br><span class="line">[<span class="string">&quot;Cheddar&quot;</span>, <span class="string">&quot;Edam&quot;</span>, <span class="string">&quot;Gouda&quot;</span>] [<span class="number">42</span>, <span class="number">123</span>] <span class="built_in">Any</span>[]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>typeof</code>æ¥æŸ¥çœ‹ç±»å‹ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; typeof(cheeses)</span><br><span class="line"><span class="built_in">Array</span>&#123;<span class="built_in">String</span>,<span class="number">1</span>&#125;</span><br><span class="line">julia&gt; typeof(numbers)</span><br><span class="line"><span class="built_in">Array</span>&#123;<span class="built_in">Int64</span>,<span class="number">1</span>&#125;</span><br><span class="line">julia&gt; typeof(empty)</span><br><span class="line"><span class="built_in">Array</span>&#123;<span class="built_in">Any</span>,<span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure><p>æ•°ç»„ç±»å‹åŒ…å«æ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹å’Œç»´åº¦ã€‚</p><h3 id="Arrays-Are-Mutable"><a href="#Arrays-Are-Mutable" class="headerlink" title="Arrays Are Mutable"></a>Arrays Are Mutable</h3><p>æ•°ç»„æ˜¯å¯å˜çš„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; numbers[<span class="number">2</span>] = <span class="number">5</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line">julia&gt; print(numbers)</span><br><span class="line">[<span class="number">42</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure><h3 id="Traversing-an-Array"><a href="#Traversing-an-Array" class="headerlink" title="Traversing an Array"></a>Traversing an Array</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> cheese <span class="keyword">in</span> cheeses</span><br><span class="line">    println(cheese)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> []</span><br><span class="line">    println(<span class="string">&quot;This can never happens.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="Array-Slices"><a href="#Array-Slices" class="headerlink" title="Array Slices"></a>Array Slices</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; print(t[<span class="number">1</span>:<span class="number">3</span>])</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">julia&gt; print(t[<span class="number">3</span>:<span class="keyword">end</span>])</span><br><span class="line">[<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>[:]</code>æ‹·è´æ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; print(t[:])</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="Array-Library"><a href="#Array-Library" class="headerlink" title="Array Library"></a>Array Library</h3><p><code>push!</code>å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; push!(t, <span class="string">&#x27;d&#x27;</span>);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>append!</code>å°†ç¬¬ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æ”¾åœ¨ç¬¬äºŒä¸ªæ•°ç»„å‰é¢ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; t2 = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; append!(t1, t2);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t1)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>sort!</code>æ’åºï¼Œæ”¹å˜åŸæ•°ç»„ï¼Œ<code>sort</code>ä¸æ”¹å˜åŸæ•°ç»„ï¼Œå¸¦<code>!</code>çš„å‡½æ•°æ”¹å˜åŸæ¥çš„æ•°ç»„ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; sort!(t);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"></span><br><span class="line">julia&gt; t1 = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; t2 = sort(t1);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t1)</span><br><span class="line">[<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>]</span><br><span class="line">julia&gt; print(t2)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="Dot-Syntax"><a href="#Dot-Syntax" class="headerlink" title="Dot Syntax"></a>Dot Syntax</h3><p>å‡½æ•°å‰æ·»åŠ <code>.</code>æ˜¯é€å…ƒç´ æ“ä½œï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = uppercase.([<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;def&quot;</span>, <span class="string">&quot;ghi&quot;</span>]);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&quot;ABC&quot;</span>, <span class="string">&quot;DEF&quot;</span>, <span class="string">&quot;GHI&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="Deleting-Inserting-Elements"><a href="#Deleting-Inserting-Elements" class="headerlink" title="Deleting (Inserting) Elements"></a>Deleting (Inserting) Elements</h3><p><code>splice!</code>åˆ é™¤è¿”å›å…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; splice!(t, <span class="number">2</span>)</span><br><span class="line"><span class="string">&#x27;b&#x27;</span>: ASCII/Unicode U+<span class="number">0062</span> (category Ll: Letter, lowercase)</span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>pop!</code>åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; pop!(t)</span><br><span class="line"><span class="string">&#x27;c&#x27;</span>: ASCII/Unicode U+<span class="number">0063</span> (category Ll: Letter, lowercase)</span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>popfirst!</code>åˆ é™¤è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; popfirst!(t)</span><br><span class="line"><span class="string">&#x27;a&#x27;</span>: ASCII/Unicode U+<span class="number">0061</span> (category Ll: Letter, lowercase)</span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>pushfirst!</code> and <code>push!</code>åˆ†åˆ«åœ¨ç¬¬ä¸€ä½å’Œæœ€åä¸€ä½æ’å…¥æ•°æ®ã€‚</p><p><code>deleteat!</code>åˆ é™¤ä½†ä¸è¿”å›å…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; print(deleteat!(t, <span class="number">2</span>))</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><p> <code>insert!</code>åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; print(insert!(t, <span class="number">2</span>, <span class="string">&#x27;x&#x27;</span>))</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="Arrays-and-Strings"><a href="#Arrays-and-Strings" class="headerlink" title="Arrays and Strings"></a>Arrays and Strings</h3><p><code>collect</code>å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = collect(<span class="string">&quot;spam&quot;</span>);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t)</span><br><span class="line">[<span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;m&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>split</code>å¯ä»¥å°†å­—ç¬¦ä¸²æŒ‰ç…§åˆ†éš”ç¬¦åˆ†å‰²ä¸ºæ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = split(<span class="string">&quot;spam-spam-spam&quot;</span>, <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t)</span><br><span class="line"><span class="built_in">SubString</span>&#123;<span class="built_in">String</span>&#125;[<span class="string">&quot;spam&quot;</span>, <span class="string">&quot;spam&quot;</span>, <span class="string">&quot;spam&quot;</span>]</span><br></pre></td></tr></table></figure><p><code>join</code>æ˜¯<code>split</code>çš„é€†è¿ç®—ï¼Œå°†æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t = [<span class="string">&quot;pining&quot;</span>, <span class="string">&quot;for&quot;</span>, <span class="string">&quot;the&quot;</span>, <span class="string">&quot;fjords&quot;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; s = join(t, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="string">&quot;pining for the fjords&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Objects-and-Values"><a href="#Objects-and-Values" class="headerlink" title="Objects and Values"></a>Objects and Values</h3><p>ä¸€ä¸ªå¯¹è±¡æ˜¯å˜é‡å¯ä»¥å¼•ç”¨çš„ä¸œè¥¿ã€‚</p><p>å¯¹äºå­—ç¬¦ä¸²ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; a = <span class="string">&quot;banana&quot;</span></span><br><span class="line"><span class="string">&quot;banana&quot;</span></span><br><span class="line">julia&gt; b = <span class="string">&quot;banana&quot;</span></span><br><span class="line"><span class="string">&quot;banana&quot;</span></span><br><span class="line">julia&gt; a â‰¡ b</span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å¯¹äºæ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; a â‰¡ b</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="Aliasing"><a href="#Aliasing" class="headerlink" title="Aliasing"></a>Aliasing</h3><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; b = a;</span><br><span class="line"></span><br><span class="line">julia&gt; b â‰¡ a</span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å˜é‡ä¸å¯¹è±¡çš„å…³è”ç§°ä¸ºå¼•ç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ä¸¤ä¸ªå¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</p><h3 id="Array-Arguments"><a href="#Array-Arguments" class="headerlink" title="Array Arguments"></a>Array Arguments</h3><p>å½“æŠŠä¸€ä¸ªæ•°ç»„ä¼ ç»™å‡½æ•°æ—¶ï¼Œå‡½æ•°å¾—åˆ°æ•°ç»„çš„å¼•ç”¨ï¼Œå‡½æ•°ä¼šæ”¹å˜æ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> deletehead!(t)</span><br><span class="line">    popfirst!(t)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">julia&gt; letters = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">julia&gt; deletehead!(letters);</span><br><span class="line"></span><br><span class="line">julia&gt; print(letters)</span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure><p>å‡½æ•°<code>vcat</code>åˆ›å»ºæ–°çš„æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">julia&gt; t3 = vcat(t1, [<span class="number">4</span>]);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t1)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">julia&gt; print(t3)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure><p>åˆ‡ç‰‡ä¹Ÿä¼šåˆ›å»ºæ–°æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> baddeletehead(t)</span><br><span class="line">    t = t[<span class="number">2</span>:<span class="keyword">end</span>]                <span class="comment"># WRONG!</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">julia&gt; t4 = baddeletehead(t3);</span><br><span class="line"></span><br><span class="line">julia&gt; print(t3)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">julia&gt; print(t4)</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimglf6.lf127.net%2Fimg%2FanBSb2NqdEc5dTlseXpNTWxpY0RWQ2NwUlAyVmFEa2lFSVo0TVM4WXNwSndDMUdvN3crMS9nPT0.jpg%3FimageView%26thumbnail%3D2160x0%26quality%3D90%26interlace%3D1%26type%3Djpg&amp;refer=http%3A%2F%2Fimglf6.lf127.net&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1659263087&amp;t=d2faeee051aa3c102a86e173d74306ad&quot; style=&quot;zoom: 100%;&quot; /&gt;
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¹¦ç±ç½‘å€ï¼š&lt;a href=&quot;https://benlauwens.github.io/ThinkJulia.jl/latest/book.html&quot;&gt;https://benlauwens.github.io/ThinkJulia.jl/latest/book.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="ä¹¦ç±é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="Julia" scheme="https://www.hfcouc.work/tags/Julia/"/>
    
    <category term="ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Bç«™è¯¾ç¨‹Mathematicaå‰ä¸‰å‘¨</title>
    <link href="https://www.hfcouc.work/2022/07/01/math/"/>
    <id>https://www.hfcouc.work/2022/07/01/math/</id>
    <published>2022-07-01T10:19:12.000Z</published>
    <updated>2022-07-01T10:27:07.977Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p align="center">    <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2F7d065302ef2984abddb60152758c13bd66f74fba.jpg&refer=http%3A%2F%2Fi0.hdslb.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1659263087&t=447b47f50cbb4d4d181ed18e4ac43cb5" style="zoom: 100%;" /></p><blockquote><p> Bç«™è¯¾ç¨‹é“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1av411N7Xi?spm_id_from=333.999.0.0&amp;vd_source=6177c61c946280bb88c727585de76bc8">https://www.bilibili.com/video/BV1av411N7Xi?spm_id_from=333.999.0.0&amp;vd_source=6177c61c946280bb88c727585de76bc8</a></p></blockquote><span id="more"></span><h2 id="ç¬¬ä¸€å‘¨"><a href="#ç¬¬ä¸€å‘¨" class="headerlink" title="ç¬¬ä¸€å‘¨"></a>ç¬¬ä¸€å‘¨</h2><h3 id="å€¼ã€å˜é‡ã€ç±»å‹"><a href="#å€¼ã€å˜é‡ã€ç±»å‹" class="headerlink" title="å€¼ã€å˜é‡ã€ç±»å‹"></a>å€¼ã€å˜é‡ã€ç±»å‹</h3><p>ä»¥ä¸‹ä¸‰ç§å¯¹è±¡æˆä¸ºåŸå­(atom)ï¼š</p><p>ç¬¦å·(Symbol)ï¼šç”±å­—æ¯å’Œæ•°å­—(æ•°å­—ä¸èƒ½åœ¨èµ·å§‹ä½ç½®)æ„æˆçš„æœ‰é™åºåˆ—</p><p>æ•°å­—(Number)ï¼šæ•´æ•°ã€æœ‰ç†æ•°ã€å®æ•°ã€å¤æ•°</p><p>å­—ç¬¦ä¸²(String)ï¼šç”±åŒå¼•å·<code>&quot;&quot;</code>æ‹¬èµ·æ¥çš„ä»»æ„å­—ç¬¦æ„æˆçš„æœ‰é™åºåˆ—</p><h4 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h4><p>æˆ‘ä»¬åœ¨å‘½åæ—¶åº”æ³¨æ„é¿å¼€ç³»ç»Ÿå†…å»ºç¬¦å·ï¼Œç³»ç»Ÿå†…å»ºç¬¦å·çš„ç‰¹ç‚¹ä¸ºï¼š</p><ul><li>ç”±ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™çš„å•è¯ç»„æˆ(Camelå‘½åæ³•)ï¼šTrueã€Falseã€FactorIntegerã€SetAttributes</li><li>ç”¨æ¥åšåˆ¤æ–­çš„å‡½æ•°æœ«å°¾é€šå¸¸æœ‰â€Qâ€ï¼šEvenQã€PrimeQã€MatchQ</li><li>ç”¨äººåå‘½åçš„ç¬¦å·=äººå+ç¬¦å·åï¼šEulerGammaã€BesselJã€DiracDelta</li></ul><h4 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h4><p>ä¸€ä¸ªç¼–ç¨‹è¯­è¨€çš„ç±»å‹æ£€æŸ¥è¶Šä¸¥æ ¼ï¼Œç¨‹åºå‘˜å—åˆ°çš„æŸç¼šè¶Šå¤§ã€‚Mathematicaç¨‹åºé€šå¸¸æ¥è¯´éƒ½æ¯”è¾ƒçŸ­å°ï¼Œé ç¨‹åºå‘˜è‡ªè§‰æ£€æŸ¥ç±»å‹åŸºæœ¬ä¸Šå°±è¶³å¤Ÿäº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤ªä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥æœºåˆ¶ã€‚ä¸€ä¸ªè¾ƒå¼±çš„ç±»å‹æ£€æŸ¥å¯ä»¥è®©ç¨‹åºå‘˜å†™å‡ºæ›´çµæ´»çš„ç¨‹åºã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Sin</span><span class="punctuation">[</span><span class="string">&quot;I&#x27;m a string!&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Sin</span><span class="punctuation">[</span><span class="string">&quot;I&#x27;m a string!&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Sin</span><span class="punctuation">[</span><span class="string">&quot;I&#x27;m a string!&quot;</span><span class="punctuation">]</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="string">&quot;I&#x27;m a string!&quot;</span> <span class="operator">-&gt;</span> <span class="built_in">Pi</span><span class="operator">/</span><span class="number">3</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Sqrt</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">/</span><span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="æ¡ä»¶ã€å¾ªç¯ã€å­ç¨‹åº"><a href="#æ¡ä»¶ã€å¾ªç¯ã€å­ç¨‹åº" class="headerlink" title="æ¡ä»¶ã€å¾ªç¯ã€å­ç¨‹åº"></a>æ¡ä»¶ã€å¾ªç¯ã€å­ç¨‹åº</h3><p>åœ¨Mathematicaä¸­ï¼Œæ¡ä»¶å’Œå¾ªç¯ç»“æ„å…¶å®ç”¨çš„å¹¶ä¸å¤šã€‚è¿™æ˜¯å› ä¸ºæ¡ä»¶ç»“æ„çš„åŠŸèƒ½åŸºæœ¬ä¸Šå¯ä»¥é€šè¿‡æ ¸å¿ƒè¯­è¨€ä¸­çš„æ¨¡å¼åŒ¹é…æ¥å®Œæˆï¼›è€Œå¾ªç¯ç»“æ„çš„åŠŸèƒ½åˆ™å¯ä»¥é€šè¿‡è¡¨å¤„ç†å’Œæ³›å‡½ç¼–ç¨‹å®Œæˆã€‚</p><h4 id="ç®€å•çš„æ¡ä»¶åˆ¤æ–­"><a href="#ç®€å•çš„æ¡ä»¶åˆ¤æ–­" class="headerlink" title="ç®€å•çš„æ¡ä»¶åˆ¤æ–­"></a>ç®€å•çš„æ¡ä»¶åˆ¤æ–­</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">True</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Then&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">Then</span></span><br><span class="line"><span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">False</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Then&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Else&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">Else</span></span><br><span class="line"><span class="built_in">If</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">==</span> <span class="variable">b</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Then&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Else&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Unevaluated&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Unevaluated</span></span><br><span class="line"><span class="built_in">If</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">===</span> <span class="variable">b</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Then&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Else&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;Unevaluated&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">Else</span></span><br></pre></td></tr></table></figure><h4 id="å¤šé‡æ¡ä»¶åˆ¤æ–­"><a href="#å¤šé‡æ¡ä»¶åˆ¤æ–­" class="headerlink" title="å¤šé‡æ¡ä»¶åˆ¤æ–­"></a>å¤šé‡æ¡ä»¶åˆ¤æ–­</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">x</span> <span class="operator">=</span> <span class="number">5</span><span class="operator">;</span> <span class="built_in">Which</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">==</span> <span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">3</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;x!=1,2,3&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">x</span><span class="operator">!=</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">,</span><span class="number">3</span></span><br><span class="line"><span class="built_in">Plot</span><span class="punctuation">[</span><span class="built_in">Piecewise</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">==</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="built_in">Sin</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="operator">/</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">!=</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="operator">-</span><span class="number">4</span> <span class="built_in">Pi</span><span class="operator">,</span> <span class="number">4</span> <span class="built_in">Pi</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/math1.jpg" alt=""></p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Switch</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="type">_</span><span class="operator">,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;b is not a boolean value!&quot;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">b</span> <span class="variable">is</span> <span class="variable">not</span> <span class="variable">a</span> <span class="variable">boolean</span> <span class="variable">value</span><span class="operator">!</span></span><br></pre></td></tr></table></figure><h4 id="ç®€å•å¾ªç¯"><a href="#ç®€å•å¾ªç¯" class="headerlink" title="ç®€å•å¾ªç¯"></a>ç®€å•å¾ªç¯</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;å“Ÿ,&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="string">&quot;åˆ‡å…‹é—¹!&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">Print</span><span class="punctuation">[</span><span class="built_in">Prime</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="built_in">PrimePi</span><span class="punctuation">[</span><span class="number">100</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">Print</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="string">&quot; is a prime number.&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">11</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h4 id="å¤æ‚å¾ªç¯"><a href="#å¤æ‚å¾ªç¯" class="headerlink" title="å¤æ‚å¾ªç¯"></a>å¤æ‚å¾ªç¯</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">For</span><span class="punctuation">[</span><span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="variable">t</span> <span class="operator">=</span> <span class="variable">i</span><span class="operator">,</span> <span class="variable">i</span> <span class="operator">&lt;=</span> <span class="number">10</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">++,</span> <span class="built_in">Print</span><span class="punctuation">[</span><span class="variable">t</span> <span class="operator">*=</span> <span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">n</span> <span class="operator">=</span> <span class="number">1234567</span><span class="operator">;</span> <span class="built_in">While</span><span class="punctuation">[</span><span class="built_in">Not</span><span class="punctuation">[</span><span class="built_in">PrimeQ</span><span class="punctuation">[</span><span class="operator">++</span><span class="variable">n</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span> <span class="variable">n</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>å‡½æ•°å®šä¹‰æ–¹æ³•ä¸€ï¼šæ¨¡å¼åŒ¹é…+å»¶è¿Ÿèµ‹å€¼</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">;</span></span><br><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">y_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">x</span> <span class="variable">y</span><span class="operator">;</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°å®šä¹‰æ–¹æ³•äºŒï¼šçº¯å‡½æ•°($\lambda-$è¡¨è¾¾å¼ã€åŒ¿åå‡½æ•°)</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f1</span> <span class="operator">=</span> <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="comment">(* ç®€å†™å½¢å¼ *)</span></span><br><span class="line"><span class="variable">f2</span> <span class="operator">=</span> <span class="type">#</span><span class="operator">^</span><span class="number">2</span> <span class="operator">&amp;;</span></span><br><span class="line"><span class="variable">g1</span> <span class="operator">=</span> <span class="built_in">Function</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">x</span> <span class="variable">y</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="comment">(* ç®€å†™å½¢å¼ *)</span></span><br><span class="line"><span class="variable">g2</span> <span class="operator">=</span> <span class="type">#1</span> <span class="type">#2</span> <span class="operator">&amp;;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼šæ±‚ä¸å¤§äºç»™å®šæ­£æ•´æ•°$n$çš„æ‰€æœ‰ç´ æ•°çš„å’Œ</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(* ç±»Cå®ç° *)</span></span><br><span class="line"><span class="variable">myPrimeQ</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span> <span class="variable">max</span> <span class="operator">=</span> <span class="built_in">Floor</span><span class="punctuation">[</span><span class="built_in">Sqrt</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">While</span><span class="punctuation">[</span><span class="built_in">Mod</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span> <span class="operator">!=</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> <span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">max</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">++</span><span class="punctuation">]</span><span class="operator">;</span> <span class="built_in">Not</span><span class="punctuation">[</span><span class="variable">i</span> <span class="operator">&lt;</span> <span class="variable">max</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">myPrimeSum</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span> <span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">If</span><span class="punctuation">[</span><span class="variable">myPrimeQ</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">sum</span> <span class="operator">+=</span> <span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span> <span class="variable">sum</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="comment">(*æ ¸å¿ƒè¯­è¨€å®ç°ã€‚Mathematicaå†…éƒ¨å­˜å‚¨äº†å‰10äº¿ä¸ªç´ æ•°çš„ç´ æ•°è¡¨*)</span></span><br><span class="line"><span class="variable">myPrimesum2</span> <span class="operator">=</span> <span class="built_in">Plus</span> <span class="operator">@@</span> <span class="built_in">Prime</span> <span class="operator">/@</span> <span class="built_in">Range</span> <span class="operator">@</span> <span class="built_in">PrimePi</span><span class="punctuation">[</span><span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;;</span></span><br><span class="line"><span class="built_in">Timing</span><span class="punctuation">[</span><span class="type">#</span><span class="punctuation">[</span><span class="number">100000</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="variable">myPrimeSum</span><span class="operator">,</span> <span class="variable">myPrimesum2</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">3.4375</span><span class="operator">,</span> <span class="number">454396537</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">0.</span><span class="operator">,</span> <span class="number">454396537</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒå‘¨"><a href="#ç¬¬äºŒå‘¨" class="headerlink" title="ç¬¬äºŒå‘¨"></a>ç¬¬äºŒå‘¨</h2><h3 id="æ ¸å¿ƒè¯­è¨€"><a href="#æ ¸å¿ƒè¯­è¨€" class="headerlink" title="æ ¸å¿ƒè¯­è¨€"></a>æ ¸å¿ƒè¯­è¨€</h3><p>ä»€ä¹ˆæ˜¯Mathematicaæ ¸å¿ƒè¯­è¨€</p><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œè™½ç„¶Mathematicaæä¾›äº†ä¸€äº›å‡½æ•°å¯ä»¥è®©æˆ‘ä»¬åƒç¼–å†™Cç¨‹åºä¸€æ ·ç¼–å†™Mathematicaç¨‹åºï¼Œä½†æ˜¯è¿™æ ·ç¼–å†™å‡ºæ¥çš„ç¨‹åºçš„æ•ˆç‡å¾ˆæˆé—®é¢˜ï¼Œè€Œä¸”ç¨‹åºæœ¬èº«ä¹Ÿä¸æ˜“æ‡‚ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬è¿˜å±•ç¤ºäº†å¦‚ä½•ç”¨æ‰€è°“Mathematicaæ ¸å¿ƒè¯­è¨€ç¼–åˆ¶å‡ºæ›´é«˜æ•ˆã€æ›´ç®€æ˜çš„ç¨‹åºã€‚å¦‚ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">myPrimesum2</span> <span class="operator">=</span> <span class="built_in">Plus</span> <span class="operator">@@</span> <span class="built_in">Prime</span> <span class="operator">/@</span> <span class="built_in">Range</span> <span class="operator">@</span> <span class="built_in">PrimePi</span><span class="punctuation">[</span><span class="type">#</span><span class="punctuation">]</span> <span class="operator">&amp;;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰å¾ˆå¤šç¬¦å·(<code>@@</code>ã€<code>/@</code>ã€<code>#</code>ã€<code>&amp;</code>)ï¼Œå®ƒä»¬å…¶å®åªæ˜¯ä¸€äº›Mathematicaå†…å»ºå‡½æ•°çš„ç®€å†™å½¢å¼ï¼Œå…¶å®Œæ•´å½¢å¼ä¸ºï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">myPrimesum2</span> <span class="operator">=</span> <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Apply</span><span class="punctuation">[</span></span><br><span class="line">   <span class="built_in">Plus</span><span class="operator">,</span></span><br><span class="line">   <span class="built_in">Map</span><span class="punctuation">[</span></span><br><span class="line">    <span class="built_in">Prime</span><span class="operator">,</span></span><br><span class="line">    <span class="built_in">Range</span><span class="punctuation">[</span></span><br><span class="line">     <span class="built_in">PrimePi</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span></span><br><span class="line">     <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">   <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span> </span><br></pre></td></tr></table></figure><p>åœ¨Mathematicaä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨TreeFormæ¥è·å¾—ä¸€ä¸ªè¡¨è¾¾å¼çš„è¯­æ³•æ ‘ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">TreeForm</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">^</span><span class="variable">n</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">z</span> <span class="operator">==</span> <span class="variable">x</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/math2.jpg" alt=""></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨FullFormæ¥è·å¾—ä¸€ä¸ªè¡¨è¾¾å¼åœ¨Mathematicaå†…éƒ¨çš„å®Œæ•´å½¢å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">FullForm</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">^</span><span class="variable">n</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">z</span> <span class="operator">==</span> <span class="variable">x</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">FullForm</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">^</span><span class="variable">n</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">z</span> <span class="operator">==</span> <span class="variable">x</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>åœ¨Mathematicaä¸­ï¼Œæ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„å¯¹è±¡å°±å«åšè¡¨è¾¾å¼</p><ol><li>åŸå­å¯¹è±¡æ˜¯è¡¨è¾¾å¼</li><li>è‹¥$\mathrm{F,X_1,X_2,\cdots,X_n}$æ˜¯è¡¨è¾¾å¼ï¼Œåˆ™$\mathrm{F[X_1,X_2,\cdots,X_n]}$ä¹Ÿæ˜¯è¡¨è¾¾å¼ã€‚</li></ol><p>Mathematicaä¸­çš„ä¸€åˆ‡å¯¹è±¡éƒ½æ˜¯è¡¨è¾¾å¼ï¼Œä¸€ä¸ªMathematicaç¨‹åºå°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p><blockquote><p>è¿™ä¸€äº‹å®å¦‚æ­¤åœ°é‡è¦ï¼Œä»¥è‡³äºæœ‰äººå°†å…¶ç§°ä¸ºMathematicaçš„ç¬¬ä¸€åŸç†ï¼šä¸‡ç‰©çš†è¡¨(è¾¾å¼)ã€‚</p></blockquote><p>Mathematicaçš„è®¡ç®—ï¼š</p><ol><li>ä»å¾…è®¡ç®—å¯¹è±¡ä¸­è¯†åˆ«ä¸€äº›å¯åŒ–ç®€çš„æ¨¡å¼</li><li>å°†è¯†åˆ«å‡ºçš„æ¨¡å¼ç”¨å·²çŸ¥çš„è§„åˆ™è¿›è¡ŒåŒ–è§£</li></ol><p>Mathematicaæ˜¯è¿™æ ·è¿›è¡Œè®¡ç®—çš„ï¼Œå…¶ä¸­ç¬¬ä¸€æ­¥å«åšæ¨¡å¼åŒ¹é…ï¼Œç¬¬äºŒæ­¥å«åšè§„åˆ™ä»£å…¥ã€‚åŸºäºæ¨¡å¼å’Œè§„åˆ™çš„è®¡ç®—æ¨¡å‹åœ¨æ•°ç†é€»è¾‘æˆ–è®¡ç®—æœºç§‘å­¦ä¸­å«åšé‡å†™ç³»ç»Ÿã€‚</p><p>Mathematicaç¬¬äºŒåŸç†ï¼šè®¡ç®—å³é‡å†™ã€‚</p><h3 id="è¡¨è¾¾å¼ä¸è¡¨"><a href="#è¡¨è¾¾å¼ä¸è¡¨" class="headerlink" title="è¡¨è¾¾å¼ä¸è¡¨"></a>è¡¨è¾¾å¼ä¸è¡¨</h3><p>æ ¹æ®å®šä¹‰ï¼Œä¸€ä¸ªè¡¨è¾¾å¼æˆ–è€…æ˜¯åŸå­ï¼Œæˆ–è€…æ˜¯å½¢å¦‚$\mathrm{F[X_1,X_2,\cdots,X_n]}$çš„å‡½æ•°ã€‚äº‹å®ä¸Šï¼ŒåŸå­ä¹Ÿå¯ä»¥çœ‹æˆåè€…çš„ç‰¹æ®Šæƒ…å†µï¼Œåªè¦æˆ‘ä»¬æŠŠå‡½æ•°çš„è‡ªå˜é‡ä¸ªæ•°å–æˆé›¶å°±è¡Œäº†ã€‚æ‰€ä»¥ï¼Œä»¥åæˆ‘ä»¬è®¨è®ºè¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæ€»æŠŠå®ƒå†™æˆ$\mathrm{F[X_1,X_2,\cdots,X_n]}$çš„æ ·å­ã€‚</p><p>ç»™å®šä¸€ä¸ªè¡¨è¾¾å¼$\mathrm{F[X_1,X_2,\cdots,X_n]}$ï¼Œæˆ‘ä»¬ç§°$\mathrm{F}$æ˜¯å®ƒçš„â€å¤´â€ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Head</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="string">&quot;number&quot;</span><span class="operator">,</span> <span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span> <span class="operator">-</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">*</span><span class="variable">b</span><span class="operator">,</span> </span><br><span class="line">  <span class="variable">a</span><span class="operator">/</span><span class="variable">b</span><span class="operator">,</span> <span class="punctuation">(</span><span class="variable">f</span> <span class="operator">+</span> <span class="variable">g</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="built_in">Integer</span><span class="operator">,</span> <span class="built_in">Rational</span><span class="operator">,</span> <span class="built_in">Symbol</span><span class="operator">,</span> <span class="built_in">String</span><span class="operator">,</span> <span class="built_in">Plus</span><span class="operator">,</span> <span class="built_in">Plus</span><span class="operator">,</span> <span class="built_in">Times</span><span class="operator">,</span> <span class="built_in">Times</span><span class="operator">,</span> <span class="variable">f</span> <span class="operator">+</span> <span class="variable">g</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°å¯¹äºåŸå­è¡¨è¾¾å¼ï¼šç¬¦å·çš„å¤´æ€»æ˜¯Symbolï¼›æ•°å­—çš„å¤´åˆ™ä¾èµ–äºå®ƒçš„ç±»å‹ï¼Œç»“æœå¯ä»¥æ˜¯Integerã€Rationalã€Realå’ŒComplexï¼›å­—ç¬¦ä¸²çš„å¤´æ€»æ˜¯Stringï¼›å›¾ç‰‡çš„å¤´æ˜¯Imageç­‰ç­‰ã€‚</p><p>åˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å¦æ˜¯åŸå­ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">myAtomQ</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> </span><br><span class="line">   <span class="built_in">MemberQ</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="built_in">Symbol</span><span class="operator">,</span> <span class="built_in">Integer</span><span class="operator">,</span> <span class="built_in">Rational</span><span class="operator">,</span> <span class="built_in">Reals</span><span class="operator">,</span> <span class="built_in">Complex</span><span class="operator">,</span> <span class="built_in">String</span><span class="operator">,</span> </span><br><span class="line">     <span class="built_in">Image</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="built_in">Head</span><span class="punctuation">[</span><span class="variable">ex</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br></pre></td></tr></table></figure><p>é™¤äº†å¤´ä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸éœ€è¦å°†è¡¨è¾¾å¼çš„å‚æ•°éƒ¨åˆ†å–å‡ºæ¥ã€‚å–å‡ºæ¥çš„ä¸œè¥¿ä¸€äº›è¡¨è¾¾å¼æ„æˆçš„åºåˆ—ï¼Œæ˜¯æ²¡æœ‰å¤´çš„ã€‚ä½†æ˜¯åœ¨Mathematicaé‡Œæ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½å¿…é¡»æœ‰å¤´ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†å¤„ç†è¿™ç§æ— å¤´è¡¨è¾¾å¼ï¼ŒMathematicaå¼•å…¥è¡¨(List)è¿™ä¸ªæ¦‚å¿µï¼Œç„¶åè§„å®šæ‰€å“Ÿæ— å¤´è¡¨è¾¾å¼çš„å¤´éƒ½æ˜¯Listã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="built_in">List</span> <span class="operator">@@</span> <span class="variable">ex</span></span><br><span class="line"><span class="built_in">Apply</span><span class="punctuation">[</span><span class="variable">g</span><span class="operator">,</span> <span class="variable">ex</span><span class="punctuation">]</span></span><br><span class="line"><span class="comment">(*å¯ä»¥å°†Applyå‡½æ•°ç†è§£ä¸ºæ¢å¤´*)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">g</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>è¡¨è¿™ç§è¡¨è¾¾å¼è¿˜æœ‰ä¸€ç§å˜ä½“ï¼Œå«åšåºåˆ—(Sequence)ã€‚åºåˆ—å¯ä»¥è®¤ä¸ºæ˜¯æ²¡æœ‰ä¸¤è¾¹èŠ±æ‹¬å·(â€œ{}â€)çš„è¡¨ï¼Œæˆ–è€…è¯´ï¼Œè¡¨æ˜¯ç”¨åºåˆ—çš„å…ƒç´ åšæˆäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œåºåˆ—æ˜¯æŸç§æ›´åŸå§‹çš„ä¸œè¥¿ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">h</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">seq</span> <span class="operator">=</span> <span class="built_in">Sequence</span> <span class="operator">@@</span> <span class="variable">ex</span></span><br><span class="line"><span class="variable">lst</span> <span class="operator">=</span> <span class="built_in">List</span> <span class="operator">@@</span> <span class="variable">ex</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Sequence</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="variable">seq</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="variable">lst</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">f</span> <span class="operator">@@</span> <span class="variable">lst</span></span><br><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="variable">seq</span><span class="operator">,</span> <span class="variable">lst</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­è¡¨æ˜ï¼Œå½“æˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªè¡¨è¾¾å¼çš„å‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç”¨Listæ¢å¤´çš„ç»“æœå¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› ä¸ºå¤šäº†ä¸€å±‚èŠ±æ‹¬å·ã€‚å¦‚æœä¸æƒ³è¦è¿™å±‚èŠ±æ‹¬å·ï¼Œå°±è¦ç”¨Sequenceæ¢å¤´ã€‚</p><p>é™¤äº†ç”¨Headå’ŒApplyä»¥å¤–ï¼ŒMathematicaè¿˜æä¾›äº†å¦ä¸€ç§è®¿é—®å¤åˆè¡¨è¾¾å¼å†…éƒ¨è¡¨è¾¾å¼çš„æ–¹æ³•ï¼Œå³ç³»ç»Ÿå†…å»ºå‡½æ•°Partï¼Œç®€å†™å½¢å¼ä¸º<code>[[...]]</code>ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="operator">,</span> <span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºåµŒå¥—çš„è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¤šæ¬¡åœ°å–Partï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">d</span><span class="operator">,</span> <span class="variable">k</span><span class="punctuation">[</span><span class="variable">e</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">j</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">i</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ“ä½œå¯ä»¥é€šè¿‡ä¸€ä¸ªPartå®ç°ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">3</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">i</span></span><br></pre></td></tr></table></figure><p>å¦å¤–Partè¿˜æœ‰æ›´å¤šçš„ç”¨æ³•ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="operator">-</span><span class="number">2</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">;;</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">;;</span> <span class="number">3</span> <span class="operator">;;</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">i</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">g</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">d</span><span class="operator">,</span> <span class="variable">k</span><span class="punctuation">[</span><span class="variable">e</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">j</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">d</span><span class="operator">,</span> <span class="variable">k</span><span class="punctuation">[</span><span class="variable">e</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">j</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">;;</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">d</span><span class="operator">,</span> <span class="variable">k</span><span class="punctuation">[</span><span class="variable">e</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">j</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>æœ€å¸¸ç”¨çš„Partéƒ½æœ‰å±äºå®ƒä»¬è‡ªå·±çš„å†…å»ºå‡½æ•°ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">op</span><span class="operator">,</span> <span class="variable">op</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="built_in">First</span><span class="operator">,</span> <span class="built_in">Last</span><span class="operator">,</span> <span class="built_in">Rest</span><span class="operator">,</span> <span class="built_in">Most</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x4</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Take</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Drop</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å¯¹äºTakeå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ›¿ä»£ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å¯¹äºç»™å®šçš„è¡¨è¾¾å¼ï¼Œæœ‰ä¸¤ä¸ªå€¼å¾ˆé‡è¦ï¼Œå³å®ƒçš„é•¿åº¦å’Œæ·±åº¦ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Length</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">g</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Depth</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">g</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">2</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">4</span></span><br></pre></td></tr></table></figure><h3 id="è¡¨çš„æ„é€ "><a href="#è¡¨çš„æ„é€ " class="headerlink" title="è¡¨çš„æ„é€ "></a>è¡¨çš„æ„é€ </h3><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Range</span><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Range</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Range</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">8</span><span class="operator">,</span> <span class="number">9</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">8</span><span class="operator">,</span> <span class="number">9</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">8</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Table</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">^</span><span class="number">2</span> <span class="operator">+</span> <span class="variable">i</span> <span class="operator">+</span> <span class="number">1</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Table</span><span class="punctuation">[</span><span class="built_in">KroneckerDelta</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="variable">j</span> <span class="operator">-</span> <span class="number">1</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">t</span> <span class="built_in">KroneckerDelta</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="variable">j</span> <span class="operator">+</span> <span class="number">4</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">i</span><span class="operator">,</span> </span><br><span class="line">   <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">j</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="punctuation">]</span> <span class="operator">//</span> <span class="built_in">MatrixForm</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">13</span><span class="operator">,</span> <span class="number">21</span><span class="operator">,</span> <span class="number">31</span><span class="operator">,</span> <span class="number">43</span><span class="operator">,</span> <span class="number">57</span><span class="operator">,</span> <span class="number">73</span><span class="operator">,</span> <span class="number">91</span><span class="operator">,</span> <span class="number">111</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><script type="math/tex; mode=display">\left(\begin{array}{lllll}0 & 1 & 0 & 0 & 0 \\0 & 0 & 1 & 0 & 0 \\0 & 0 & 0 & 1 & 0 \\0 & 0 & 0 & 0 & 1 \\t & 0 & 0 & 0 & 0\end{array}\right)</script><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span><span class="punctuation">[</span><span class="type">#</span><span class="operator">^</span><span class="number">2</span> <span class="operator">+</span> <span class="type">#</span> <span class="operator">+</span> <span class="number">1</span> <span class="operator">&amp;,</span> <span class="number">10</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">13</span><span class="operator">,</span> <span class="number">21</span><span class="operator">,</span> <span class="number">31</span><span class="operator">,</span> <span class="number">43</span><span class="operator">,</span> <span class="number">57</span><span class="operator">,</span> <span class="number">73</span><span class="operator">,</span> <span class="number">91</span><span class="operator">,</span> <span class="number">111</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="type">#</span><span class="operator">^</span><span class="number">2</span> <span class="operator">+</span> <span class="type">#</span> <span class="operator">+</span> <span class="number">1</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">13</span><span class="operator">,</span> <span class="number">21</span><span class="operator">,</span> <span class="number">31</span><span class="operator">,</span> <span class="number">43</span><span class="operator">,</span> <span class="number">57</span><span class="operator">,</span> <span class="number">73</span><span class="operator">,</span> <span class="number">91</span><span class="operator">,</span> <span class="number">111</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span><span class="punctuation">[</span><span class="variable">f</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="variable">h</span><span class="punctuation">]</span><span class="comment">(*5æŒ‡çš„æ˜¯é•¿åº¦ï¼Œ2æŒ‡çš„æ˜¯èµ·å§‹ä½ç½®ï¼ŒhæŒ‡çš„æ˜¯å¤´*)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">h</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">6</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Tuples</span><span class="punctuation">[</span><span class="built_in">Range</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Outer</span><span class="punctuation">[</span><span class="variable">f</span><span class="operator">,</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">3</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">3</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="è¡¨çš„æŸ¥è¯¢å’Œæœç´¢"><a href="#è¡¨çš„æŸ¥è¯¢å’Œæœç´¢" class="headerlink" title="è¡¨çš„æŸ¥è¯¢å’Œæœç´¢"></a>è¡¨çš„æŸ¥è¯¢å’Œæœç´¢</h3><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">MemberQ</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="operator">,</span> <span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="operator">,</span> <span class="variable">x5</span><span class="operator">,</span> <span class="variable">x6</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">FreeQ</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="operator">,</span> <span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="operator">,</span> <span class="variable">x4</span><span class="operator">,</span> <span class="variable">x5</span><span class="operator">,</span> <span class="variable">x6</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="built_in">False</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="built_in">False</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="built_in">False</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="built_in">False</span><span class="operator">,</span> <span class="built_in">True</span><span class="operator">,</span> <span class="built_in">True</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºMemberQå’ŒFreeQç»“æœå¹¶ä¸æ˜¯ç›¸åçš„ã€‚</p><p>MemberQå‡½æ•°è¿˜æœ‰å‚æ•°ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">MemberQ</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">f</span><span class="operator">,</span> <span class="built_in">Heads</span> <span class="operator">-&gt;</span> <span class="built_in">True</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br></pre></td></tr></table></figure><p>FreeQå‡½æ•°å¯ä»¥æŒ‡å®šæ·±åº¦ï¼ˆé»˜è®¤æ·±åº¦æ˜¯æ‰€æœ‰æ·±åº¦éƒ½æŸ¥æ‰¾ï¼‰ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">FreeQ</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">FreeQ</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="comment">(*åœ¨ç¬¬ä¸€å±‚æœç´¢*)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰Countå‡½æ•°(é»˜è®¤åªçœ‹ç¬¬ä¸€å±‚)ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">euler</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">^</span><span class="variable">n</span><span class="punctuation">)</span><span class="operator">/</span><span class="variable">n</span> <span class="operator">==</span> <span class="variable">x</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="built_in">Count</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Count</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="built_in">Infinity</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">0</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Positionå¯ä»¥æ‰¾åˆ°ä½ç½®ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="comment">(*å¸¦&#123;&#125;è¡¨ç¤ºåªæœè¿™ä¸€å±‚ï¼Œä¸å¸¦è¡¨ç¤ºæœ€æ·±æœåˆ°è¿™å±‚*)</span></span><br><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">level</span><span class="operator">,</span> <span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="variable">level</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="number">0</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">level</span><span class="operator">,</span> <span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="variable">level</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">level</span><span class="operator">,</span> <span class="built_in">Position</span><span class="punctuation">[</span><span class="variable">euler</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="variable">level</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Selecté€‰å–æ»¡è¶³æŸä¸ªæ¡ä»¶çš„ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Select</span><span class="punctuation">[</span><span class="built_in">Prime</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">OddQ</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Select</span><span class="punctuation">[</span><span class="built_in">Prime</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Mod</span><span class="punctuation">[</span><span class="type">#</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="number">1</span> <span class="operator">&amp;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="number">11</span><span class="operator">,</span> <span class="number">13</span><span class="operator">,</span> <span class="number">17</span><span class="operator">,</span> <span class="number">19</span><span class="operator">,</span> <span class="number">23</span><span class="operator">,</span> <span class="number">29</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">13</span><span class="operator">,</span> <span class="number">17</span><span class="operator">,</span> <span class="number">29</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="è¡¨çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹"><a href="#è¡¨çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹" class="headerlink" title="è¡¨çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹"></a>è¡¨çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹</h3><p>ä¸‹é¢çš„æ“ä½œä¸æ”¹å˜è¡¨è¾¾å¼æœ¬èº«ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span> <span class="operator">=</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="built_in">Prepend</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">z</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Append</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Insert</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Insert</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">,</span> <span class="operator">-</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">z</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">i</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="variable">ex</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„æ“ä½œä¼šæ”¹å˜è¡¨è¾¾å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="built_in">PrependTo</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">z</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">AppendTo</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">z</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">z</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Deleteä¹Ÿä¸æ”¹å˜åŸè¡¨è¾¾å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Delete</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Delete</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="operator">-</span><span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>ReplacePartä¹Ÿä¸æ”¹å˜ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="built_in">ReplacePart</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="number">1</span> <span class="operator">-&gt;</span> <span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">ex</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">z</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸‹é¢ä¼šæ”¹å˜ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">ex</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="variable">y</span><span class="operator">;</span></span><br><span class="line"><span class="variable">ex</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">y</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„æ˜¯æ—‹è½¬çš„å‡½æ•°ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Reverse</span><span class="punctuation">[</span><span class="variable">ex</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">RotateLeft</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">RotateRight</span><span class="punctuation">[</span><span class="variable">ex</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">d</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h3 id="é›†åˆè¿ç®—"><a href="#é›†åˆè¿ç®—" class="headerlink" title="é›†åˆè¿ç®—"></a>é›†åˆè¿ç®—</h3><p>å¤´éƒ¨ä¸€æ ·çš„è¡¨è¾¾å¼ä¹‹é—´çš„é›†åˆè¿ç®—ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Join</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x1</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Union</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x1</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Intersection</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Complement</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="operator">,</span> <span class="variable">x4</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x3</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">list</span> <span class="operator">=</span> <span class="built_in">Array</span><span class="punctuation">[</span><span class="built_in">RandomInteger</span><span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span> <span class="operator">&amp;,</span> <span class="punctuation">&#123;</span><span class="number">20</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Sort</span><span class="punctuation">[</span><span class="variable">list</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">8</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">10</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">8</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">10</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Sort</span><span class="punctuation">[</span><span class="variable">list</span><span class="operator">,</span> <span class="built_in">Function</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">list1</span><span class="operator">,</span> <span class="variable">list2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">list1</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&lt;</span> <span class="variable">list2</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">8</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">10</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Sort</span><span class="punctuation">[</span><span class="variable">list</span><span class="operator">,</span> <span class="punctuation">(</span><span class="type">#1</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&lt;</span> <span class="type">#2</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="operator">||</span> <span class="punctuation">(</span><span class="type">#1</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">==</span> <span class="type">#2</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&amp;&amp;</span> <span class="type">#1</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&gt;</span> <span class="type">#2</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="operator">&amp;</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">9</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">8</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">6</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">10</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">8</span><span class="operator">,</span> </span><br><span class="line">  <span class="number">0</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">9</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">10</span><span class="operator">,</span> <span class="number">7</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line">  </span><br><span class="line"><span class="variable">list</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Sort</span><span class="punctuation">[</span><span class="variable">list</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Ordering</span><span class="punctuation">[</span><span class="variable">list</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">list</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="built_in">Ordering</span><span class="punctuation">[</span><span class="variable">list</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰å‘¨"><a href="#ç¬¬ä¸‰å‘¨" class="headerlink" title="ç¬¬ä¸‰å‘¨"></a>ç¬¬ä¸‰å‘¨</h2><p>ä¾‹ï¼šä¸€ç§å¸¸ç”¨çš„æé€ŸæŠ€å·§</p><p><code>Append</code>å‡½æ•°å¾ˆæ…¢ï¼Œå› ä¸ºåœ¨è¡¨çš„æœ€åæ’å…¥æ•°æ®ï¼Œéœ€è¦éå†æ•´ä¸ªè¡¨ã€‚</p><p>é—®é¢˜ï¼šæ‰¾åˆ°ä¸å¤§äº$n$çš„æ‰€æœ‰æ— å¹³æ–¹å› å­çš„è‡ªç„¶æ•°</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">solution1</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">SquareFreeQ</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">AppendTo</span><span class="punctuation">[</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="operator">;</span> <span class="variable">L</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="variable">solution2</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">SquareFreeQ</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">PrependTo</span><span class="punctuation">[</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Reverse</span><span class="punctuation">[</span><span class="variable">L</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="comment">(*åµŒå¥—è¡¨:Flatten*)</span></span><br><span class="line"><span class="variable">solution3</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">SquareFreeQ</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">i</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Flatten</span><span class="punctuation">[</span><span class="variable">L</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"><span class="comment">(*æ”¶è·ä¸æ’­ç§*)</span></span><br><span class="line"><span class="variable">solution4</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> </span><br><span class="line">   <span class="built_in">Reap</span><span class="punctuation">[</span><span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">i</span><span class="operator">,</span> <span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">SquareFreeQ</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Sow</span><span class="punctuation">[</span><span class="variable">i</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">/@</span> <span class="built_in">Range</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span> </span><br><span class="line">     <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Timing</span><span class="punctuation">[</span><span class="type">#</span><span class="punctuation">[</span><span class="number">50000</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&amp;</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="variable">solution1</span><span class="operator">,</span> <span class="variable">solution2</span><span class="operator">,</span> <span class="variable">solution3</span><span class="operator">,</span> </span><br><span class="line">  <span class="variable">solution4</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1.5625</span><span class="operator">,</span> <span class="number">1.34375</span><span class="operator">,</span> <span class="number">0.125</span><span class="operator">,</span> <span class="number">0.109375</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯Flattenå‡½æ•°ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œå°±æ˜¯å½“æˆ‘ä»¬æœç´¢çš„ç»“æœä¸­å«æœ‰è¡¨æ—¶ï¼Œä¼šç ´åæˆ‘ä»¬æœç´¢ç»“æœçš„ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è§£å†³ï¼š</p><p>æ±‚è§£<code>Pell</code>æ–¹ç¨‹$x^2-2y^2=1$çš„æ»¡è¶³$1\le y\le n$çš„è§£ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">solution5</span> <span class="operator">=</span> </span><br><span class="line">  <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">;</span> </span><br><span class="line">   <span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">IntegerQ</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">=</span> <span class="built_in">Sqrt</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">+</span> <span class="number">2</span> <span class="variable">y</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">L</span> <span class="operator">=</span> <span class="punctuation">&#123;</span><span class="variable">L</span><span class="operator">,</span> <span class="variable">list</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span> <span class="operator">,</span> </span><br><span class="line">     <span class="variable">n</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span> <span class="built_in">Flatten</span><span class="punctuation">[</span><span class="variable">L</span><span class="punctuation">]</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">list</span> <span class="operator">-&gt;</span> <span class="built_in">List</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯ç”¨<code>list</code>ä»£æ›¿<code>List</code>æ”¾ç½®è¢«å‹å¹³ï¼Œä¹‹ååˆè¿˜åŸã€‚</p><p>ä½†æ”¶è·ä¸æ’­ç§ä¸å­˜åœ¨æ­¤ç±»é—®é¢˜ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">solution6</span> <span class="operator">=</span> </span><br><span class="line"> <span class="built_in">Function</span><span class="punctuation">[</span><span class="variable">n</span><span class="operator">,</span> </span><br><span class="line">  <span class="built_in">Reap</span><span class="punctuation">[</span><span class="built_in">Do</span><span class="punctuation">[</span><span class="built_in">If</span><span class="punctuation">[</span><span class="built_in">IntegerQ</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">=</span> <span class="built_in">Sqrt</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">+</span> <span class="number">2</span> <span class="variable">y</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Sow</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span><span class="operator">,</span> <span class="variable">n</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span></span><br><span class="line">     <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>æ”¶è·ä¸æ’­ç§æ˜¯å¾ˆæœ‰ç”¨çš„ä¸€ç§æ„é€ è¡¨çš„æ–¹æ³•ï¼Œå®ƒä»¬è¿˜æœ‰æ›´é«˜çº§çš„ç”¨æ³•ï¼šæ’­ç§çš„æ—¶å€™å¯ä»¥ç»™æ¯ä¸ªç§å­åŠ æ ‡ç­¾ï¼Œæ”¶è·æ—¶å¯ä»¥æŒ‰ç…§æ ‡ç­¾æˆ–æ¨¡å¼åŒ¹é…è¿›è¡Œæ”¶è·ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Reap</span><span class="punctuation">[</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>å¼ ä¸‰<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> å¯ä¹<span class="operator">,</span> é¸¡ç¿…<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>æå››<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> å¯ä¹<span class="operator">,</span> é¸¡ç¿…<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>ç‹äº”<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> é›ªç¢§<span class="operator">,</span> è–¯æ¡<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>åˆ˜å…­<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> çº¢èŒ¶<span class="operator">,</span> æ²™æ‹‰<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>é™ˆä¸ƒ<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> å¯ä¹<span class="operator">,</span> è–¯æ¡<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>æ¨å…«<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> æ©™æ±<span class="operator">,</span> æ²™æ‹‰<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;,</span></span><br><span class="line"> çº¢èŒ¶</span><br><span class="line"> <span class="punctuation">]</span></span><br><span class="line"> <span class="operator">&gt;</span> <span class="built_in">Null</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span>åˆ˜å…­<span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"> </span><br><span class="line"> <span class="built_in">Reap</span><span class="punctuation">[</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>å¼ ä¸‰<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> å¯ä¹<span class="operator">,</span> é¸¡ç¿…<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>æå››<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> å¯ä¹<span class="operator">,</span> é¸¡ç¿…<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>ç‹äº”<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> é›ªç¢§<span class="operator">,</span> è–¯æ¡<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>åˆ˜å…­<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> çº¢èŒ¶<span class="operator">,</span> æ²™æ‹‰<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>é™ˆä¸ƒ<span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨<span class="operator">,</span> å¯ä¹<span class="operator">,</span> è–¯æ¡<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;</span></span><br><span class="line"> <span class="built_in">Sow</span><span class="punctuation">[</span>æ¨å…«<span class="operator">,</span> <span class="punctuation">&#123;</span>æ„é¢<span class="operator">,</span> æ©™æ±<span class="operator">,</span> æ²™æ‹‰<span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">;,</span></span><br><span class="line"> <span class="type">_</span><span class="operator">,</span> <span class="type">#1</span> <span class="operator">-&gt;</span> <span class="type">#2</span> <span class="operator">&amp;</span></span><br><span class="line"> <span class="punctuation">]</span></span><br><span class="line"> </span><br><span class="line"> <span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="built_in">Null</span><span class="operator">,</span> <span class="punctuation">&#123;</span>æŠ«è¨ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>å¼ ä¸‰<span class="operator">,</span> ç‹äº”<span class="operator">,</span> é™ˆä¸ƒ<span class="punctuation">&#125;</span><span class="operator">,</span> å¯ä¹ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>å¼ ä¸‰<span class="operator">,</span> æå››<span class="operator">,</span> é™ˆä¸ƒ<span class="punctuation">&#125;</span><span class="operator">,</span> é¸¡ç¿… <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>å¼ ä¸‰<span class="operator">,</span> æå››<span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  æ„é¢ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>æå››<span class="operator">,</span> åˆ˜å…­<span class="operator">,</span> æ¨å…«<span class="punctuation">&#125;</span><span class="operator">,</span> é›ªç¢§ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>ç‹äº”<span class="punctuation">&#125;</span><span class="operator">,</span> è–¯æ¡ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>ç‹äº”<span class="operator">,</span> é™ˆä¸ƒ<span class="punctuation">&#125;</span><span class="operator">,</span> çº¢èŒ¶ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>åˆ˜å…­<span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line">  æ²™æ‹‰ <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>åˆ˜å…­<span class="operator">,</span> æ¨å…«<span class="punctuation">&#125;</span><span class="operator">,</span> æ©™æ± <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span>æ¨å…«<span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>,</code>åçš„è¡¨ç¤ºæ¨¡å¼åŒ¹é…,<code>_</code>è¡¨ç¤ºæ‰€æœ‰æ¨¡å¼éƒ½å¯ï¼Œè€Œåé¢çš„ä¸ºåŒ¿åå‡½æ•°ã€‚</p><h3 id="æ¨¡å¼åŒ¹é…"><a href="#æ¨¡å¼åŒ¹é…" class="headerlink" title="æ¨¡å¼åŒ¹é…"></a>æ¨¡å¼åŒ¹é…</h3><p>æˆ‘ä»¬å·²ç»æè¿‡Mathematicaçš„ç¬¬äºŒåŸç†ï¼šè®¡ç®—å³é‡å†™ã€‚é‡å†™åˆ†ä¸¤æ­¥ã€åˆ†åˆ«æ˜¯æ¨¡å¼åŒ¹é…å’Œè§„åˆ™ä»£å…¥ã€‚æˆ‘ä»¬å…ˆè®²æ¨¡å¼åŒ¹é…ã€‚</p><p>æ‰€è°“æ¨¡å¼ï¼Œæ˜¯æŒ‡æ»¡è¶³ä¸€å®šæ¡ä»¶çš„è¡¨è¾¾å¼æ„æˆçš„é›†åˆã€‚è€Œæ¨¡å¼åŒ¹é…ï¼Œå°±æ˜¯ä»ç»™å®šçš„å¾…è®¡ç®—è¡¨è¾¾å¼ä¸­æœç´¢å‡ºç¬¦åˆæŸç§æ¨¡å¼ï¼ˆå³è¾“å…¥è¿™ä¸ªé›†åˆï¼‰çš„å­è¡¨è¾¾å¼ã€‚æ¨¡å¼åŒ¹é…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹è¿™äº›åŒ¹é…å‡ºæ¥çš„å­è¡¨è¾¾å¼åº”ç”¨è®¡ç®—è§„åˆ™ï¼Œä»è€Œè¾¾åˆ°è®¡ç®—æˆ–åŒ–ç®€çš„ç›®çš„ã€‚æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æœ¬èº«å°±æ˜¯æŸç§æœç´¢ç»“æœï¼Œå¦‚æœå–„ç”¨æ¨¡å¼åŒ¹é…ï¼Œå°±å¯ä»¥å†™å‡ºéå¸¸é«˜æ•ˆçš„ç¨‹åºã€‚</p><p>æ ¹æ®å®šä¹‰ï¼Œå•ä¸ªè¡¨è¾¾å¼ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§æ¨¡å¼ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºå…¶å…ƒç´ ï¼Œè¿™åœ¨æ¨¡å¼åŒ¹é…çš„æ—¶å€™ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚ä¸è¿‡è¿™ç§æ¨¡å¼å¤ªç®€å•äº†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¹³å‡¡æ¨¡å¼ï¼Œæˆ‘ä»¬åé¢è®¨è®ºæ¨¡å¼æ—¶ä¸€èˆ¬æ€»å‡è®¾æ˜¯éå¹³å‡¡çš„ã€‚</p><p>æœ€ç®€å•çš„(éå¹³å‡¡)çš„æ¨¡å¼æ˜¯<code>_</code>ï¼Œå…¨å<code>Blank[]</code>ï¼Œå®ƒä»£è¡¨ä¸€åˆ‡è¡¨è¾¾å¼ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">FullForm</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="type">_</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span><span class="variable">g</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span><span class="variable">y</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">FullForm</span> <span class="operator">/@</span> <span class="punctuation">&#123;</span><span class="type">_</span> <span class="operator">+</span> <span class="type">_</span><span class="operator">,</span> <span class="type">_</span> <span class="operator">-</span> <span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="operator">*_,</span> <span class="type">_</span><span class="operator">^_</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="built_in">Times</span><span class="punctuation">[</span><span class="number">2</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="built_in">Power</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Power</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">,</span> <span class="type">_</span> <span class="operator">+</span> <span class="type">_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">a</span><span class="operator">,</span> <span class="type">_</span> <span class="operator">+</span> <span class="type">_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">-</span> <span class="variable">b</span><span class="operator">,</span> <span class="type">_</span> <span class="operator">-</span> <span class="type">_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">-</span> <span class="variable">a</span><span class="operator">,</span> <span class="type">_</span> <span class="operator">-</span> <span class="type">_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">*</span><span class="variable">b</span><span class="operator">,</span> <span class="type">_</span><span class="operator">*_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">*</span><span class="variable">a</span><span class="operator">,</span> <span class="type">_</span><span class="operator">*_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">/</span><span class="variable">b</span><span class="operator">,</span> <span class="type">_</span><span class="operator">/_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">/</span><span class="variable">a</span><span class="operator">,</span> <span class="type">_</span><span class="operator">/_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">g</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br></pre></td></tr></table></figure><p><code>+,-,/,*</code>ä¸ºå…·ä½“çš„äºŒå…ƒè¿ç®—ï¼Œè€Œ<code>g</code>ä¸ºæŠ½è±¡çš„äºŒå…ƒè¿ç®—ï¼Œæ‰€ä»¥ç»“æœå¯èƒ½æœ‰æ‰€ä¸åŒã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†åŒ¹é…å¥½çš„æ¨¡å¼å‘½åï¼Œå…¶å®Œæ•´å½¢å¼ä¸ºPattern[name, pattern]ï¼Œç®€å†™å½¢å¼æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«å¯¹åº”äºä¸åŒçš„ä¼˜å…ˆçº§ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">FullForm</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">FullForm</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">:</span> <span class="type">_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">FullForm</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">[</span><span class="type">_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">FullForm</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">:</span> <span class="type">_</span><span class="punctuation">[</span><span class="type">_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Pattern</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Pattern</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Pattern</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">Pattern</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">[</span><span class="built_in">Blank</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨ä¸€ä¸ªæ¨¡å¼ä¸­ï¼ŒåŒä¸€ä¸ªå‘½åæ¨¡å¼å‡ºç°äº†å¤šæ¬¡ï¼Œå®ƒä»¬ä¼šè¢«è®¤ä¸ºæ˜¯åŒæ ·çš„ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">x_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">x_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">,</span> <span class="type">y_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">False</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„æ¨¡å¼åŒ¹é…æ˜¯æŒ‰Mathematicaå†…éƒ¨çš„FullFormåŒ¹é…çš„ï¼Œå®ƒæ€»æ˜¯åŸºäºç»“æ„çš„ï¼Œè€ŒéåŸºäºæ•°å­¦çš„ã€‚ä¾‹å¦‚å½“æˆ‘ä»¬åŒ¹é…<code>x^_</code>è¿™ä¸ªæ¨¡å¼æ—¶ï¼Œ<code>x</code>æœ¬èº«å¹¶ä¸ä¼šåŒ¹é…åˆ°ï¼Œå°½ç®¡åœ¨æ•°å­¦ä¸Š$x=x^1$ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">^</span><span class="type">n_</span> <span class="operator">:&gt;</span>  <span class="variable">p</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">^</span><span class="type">n_</span> <span class="operator">:&gt;</span>  <span class="variable">p</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">1</span> <span class="operator">-&gt;</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">-&gt;</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">p</span><span class="punctuation">[</span><span class="number">0</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœæœ‰æ¶‰åŠåˆ°å¸¦æœ‰äº¤æ¢æ€§ã€ç»“åˆæ€§çš„å‡½æ•°ï¼ŒMathematicaä¹Ÿä¼šå˜å¾—èªæ˜ä¸€äº›ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">+</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">b</span> <span class="operator">+</span> <span class="variable">c</span><span class="operator">,</span> <span class="built_in">Plus</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="built_in">Plus</span><span class="punctuation">[</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">b</span> <span class="operator">+</span> <span class="type">x_</span>  <span class="operator">:&gt;</span> <span class="variable">x</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">a</span> <span class="operator">+</span> <span class="variable">c</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºPlusè¿™ä¸ªå‡½æ•°åœ¨Mathematicaå†…éƒ¨å…·æœ‰Flatå’ŒOrderlessä¸¤ç§å±æ€§ï¼Œåˆ†åˆ«å¯¹åº”äºç»“åˆæ€§å’Œäº¤æ¢æ€§ã€‚Mathematicaåœ¨åšæ¨¡å¼åŒ¹é…çš„æ—¶å€™ä¼šè€ƒè™‘è¿™äº›å±æ€§å¯¼è‡´çš„ä¸€äº›ç­‰ä»·å½¢å¼ï¼Œå¦‚Plus[a,b] = Plus[b,a]ï¼ŒPlus[a,Plus[b,c]] = Plus[b, Plus[a,c]]ç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨Caseså‡½æ•°æ¥åˆ—å‡ºæ‰€åŒ¹é…çš„ä¸œè¥¿ï¼Œä¸æŒ‡å®šæ·±åº¦åªæœç¬¬ä¸€å±‚ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">+</span> <span class="variable">x</span> <span class="operator">+</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^_</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="number">1</span> <span class="operator">+</span> <span class="variable">x</span> <span class="operator">+</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^_,</span> <span class="built_in">Infinity</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Max</span><span class="punctuation">[</span><span class="built_in">Cases</span><span class="punctuation">[</span><span class="variable">a0</span> <span class="operator">+</span> <span class="variable">a1</span> <span class="variable">x</span> <span class="operator">+</span> <span class="variable">a2</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span> <span class="operator">+</span> <span class="variable">a3</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="type">n_</span> <span class="operator">:&gt;</span> <span class="variable">n</span><span class="operator">,</span> <span class="built_in">Infinity</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨æ¨¡å¼åŒ¹é…æ¨¡å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span> <span class="operator">-&gt;</span> <span class="variable">d</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="built_in">HoldPattern</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="type">_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">a</span> <span class="operator">-&gt;</span> <span class="variable">b</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ç”¨DeleteCaseså»æ‰è¢«åŒ¹é…åˆ°çš„ä¸œè¥¿ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">DeleteCases</span><span class="punctuation">[</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">g</span><span class="punctuation">[</span><span class="variable">y</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">_</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">g</span><span class="punctuation">[</span><span class="variable">y</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">DeleteCases</span><span class="punctuation">[</span><span class="built_in">CoefficientList</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="number">1</span> <span class="operator">+</span> <span class="variable">x</span><span class="punctuation">)</span><span class="operator">^</span><span class="number">10</span> <span class="operator">+</span> <span class="punctuation">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">x</span><span class="punctuation">)</span><span class="operator">^</span><span class="number">10</span><span class="operator">,</span> <span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">90</span><span class="operator">,</span> <span class="number">420</span><span class="operator">,</span> <span class="number">420</span><span class="operator">,</span> <span class="number">90</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="comment">(*CoefficientListæ±‚å¤šé¡¹å¼ç³»æ•°*)</span></span><br></pre></td></tr></table></figure><p>æ¯”ç®€å•åŒ¹é…ç¨å¾®å¤æ‚ä¸€ç‚¹çš„æ˜¯ç±»å‹åŒ¹é…ï¼Œå®Œæ•´å½¢å¼ä¸ºBlank[head]ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2.5</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_f</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2.5</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_Symbol</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2.5</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_Integer</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2.5</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_Real</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span><span class="variable">y</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">2.5</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤æ‚çš„æ˜¯å¸¦æ¡ä»¶çš„æ¨¡å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="built_in">EvenQ</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="type">#</span> <span class="operator">+</span> <span class="type">#</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="built_in">Not</span><span class="operator">@</span><span class="built_in">EvenQ</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="type">#</span> <span class="operator">+</span> <span class="type">#</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="built_in">Except</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="built_in">EvenQ</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="type">#</span> <span class="operator">+</span> <span class="type">#</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> </span><br><span class="line"> <span class="built_in">Except</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="built_in">EvenQ</span><span class="punctuation">[</span><span class="punctuation">(</span><span class="type">#</span> <span class="operator">+</span> <span class="type">#</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">)</span><span class="operator">/</span><span class="number">2</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="operator">,</span> <span class="type">_</span><span class="operator">?</span><span class="built_in">NumberQ</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"> <span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="punctuation">&#125;</span></span><br><span class="line"> <span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span></span><br><span class="line"> <span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span></span><br><span class="line"> <span class="operator">&gt;</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">5</span><span class="operator">,</span> <span class="number">6</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>Except[c,p]</code>æ»¡è¶³<code>p</code>ä½†ä¸æ»¡è¶³<code>c</code>ã€‚</p><p>ä¸å‘½åç±»ä¼¼ï¼Œæ¡ä»¶ä¹Ÿæœ‰æ›´ä½ä¼˜å…ˆçº§çš„ä¸€ç§ç®€å†™å½¢å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="type">#</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&lt;</span> <span class="type">#</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="type">x_</span><span class="operator">,</span> <span class="type">y_</span><span class="punctuation">&#125;</span> <span class="operator">/;</span> <span class="variable">x</span> <span class="operator">&lt;</span> <span class="variable">y</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿ç®—ç¬¦<code>/;</code>ç»å¸¸è¢«ç”¨æ¥å®šä¹‰åˆ†æƒ…å†µçš„å‡½æ•°ï¼Œå¦‚è‘—åçš„$3x+1$é—®é¢˜ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="type">n_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">n</span><span class="operator">/</span><span class="number">2</span> <span class="operator">/;</span> <span class="built_in">EvenQ</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="type">n_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="number">3</span> <span class="variable">n</span> <span class="operator">+</span> <span class="number">1</span> <span class="operator">/;</span> <span class="built_in">OddQ</span><span class="punctuation">[</span><span class="variable">n</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½•å®šä¹‰åŒçº¿æ€§è¿ç®—ï¼Ÿ</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">inner</span><span class="punctuation">[</span><span class="type">x1_</span> <span class="operator">+</span> <span class="type">x2_</span><span class="operator">,</span> <span class="type">x3_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x2</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">inner</span><span class="punctuation">[</span><span class="type">x1_</span><span class="operator">,</span> <span class="type">x2_</span> <span class="operator">+</span> <span class="type">x3_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x3</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">inner</span><span class="punctuation">[</span><span class="type">a_</span><span class="operator">?</span><span class="built_in">NumberQ</span> <span class="type">x1_</span><span class="operator">,</span> <span class="type">x2_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">a</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">inner</span><span class="punctuation">[</span><span class="type">x1_</span><span class="operator">,</span> <span class="type">a_</span><span class="operator">?</span><span class="built_in">NumberQ</span> <span class="type">x2_</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">a</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x1</span><span class="operator">,</span> <span class="variable">x2</span><span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line"><span class="variable">inner</span><span class="punctuation">[</span><span class="number">3</span> <span class="variable">x</span> <span class="operator">+</span> <span class="number">2</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">z</span><span class="operator">/</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">3</span><span class="operator">/</span><span class="number">2</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">z</span><span class="punctuation">]</span> <span class="operator">+</span> <span class="variable">inner</span><span class="punctuation">[</span><span class="variable">y</span><span class="operator">,</span> <span class="variable">z</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹å¥½å‡ ç§æƒ…å†µåšåŒä¸€ç§è§„åˆ™ä»£å…¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦â€æˆ–ç„¶åŒ¹é…â€ï¼Œå…¶å½¢å¼ä¸º<code>p1|p2|p3</code>ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span> <span class="number">0.25</span><span class="operator">,</span> <span class="number">3</span> <span class="operator">+</span> <span class="number">4</span> <span class="built_in">I</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="type">_Rational</span> <span class="operator">-&gt;</span> <span class="number">0</span><span class="operator">,</span> <span class="type">_Real</span> <span class="operator">-&gt;</span> <span class="number">0</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">/</span><span class="number">2</span><span class="operator">,</span> <span class="number">0.25</span><span class="operator">,</span> <span class="number">3</span> <span class="operator">+</span> <span class="number">4</span> <span class="built_in">I</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="type">_Rational</span> <span class="operator">|</span> <span class="type">_Real</span> <span class="operator">-&gt;</span> <span class="number">0</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="built_in">Symbol</span> <span class="operator">/@</span> <span class="built_in">CharacterRange</span><span class="punctuation">[</span><span class="string">&quot;a&quot;</span><span class="operator">,</span> <span class="string">&quot;z&quot;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="built_in">Except</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">|</span> <span class="variable">e</span> <span class="operator">|</span> <span class="variable">i</span> <span class="operator">|</span> <span class="variable">o</span> <span class="operator">|</span> <span class="variable">u</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">3</span> <span class="operator">+</span> <span class="number">4</span> <span class="built_in">I</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">3</span> <span class="operator">+</span> <span class="number">4</span> <span class="built_in">I</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">f</span><span class="operator">,</span> <span class="variable">g</span><span class="operator">,</span> <span class="variable">h</span><span class="operator">,</span> <span class="variable">j</span><span class="operator">,</span> <span class="variable">k</span><span class="operator">,</span> <span class="variable">l</span><span class="operator">,</span> <span class="variable">m</span><span class="operator">,</span> <span class="variable">n</span><span class="operator">,</span> <span class="variable">p</span><span class="operator">,</span> <span class="variable">q</span><span class="operator">,</span> <span class="variable">r</span><span class="operator">,</span> <span class="variable">s</span><span class="operator">,</span> <span class="variable">t</span><span class="operator">,</span> <span class="variable">v</span><span class="operator">,</span> <span class="variable">w</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="operator">,</span> <span class="variable">z</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¹‹å‰æ¨¡å¼åŒ¹é…éƒ½æ˜¯é’ˆå¯¹ä¸€ä¸ªè¡¨è¾¾å¼çš„ï¼Œæ¨¡å¼åŒ¹é…è¿˜å¯ä»¥å¯¹è¡¨è¾¾å¼åºåˆ—è¿›è¡Œã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="type">a__</span><span class="punctuation">]</span> <span class="operator">:&gt;</span> <span class="punctuation">&#123;</span><span class="variable">a</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="type">a___</span><span class="punctuation">]</span> <span class="operator">:&gt;</span> <span class="punctuation">&#123;</span><span class="variable">a</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªä¸‹åˆ’çº¿å¯¹äºç©º(0ä¸ªè¡¨è¾¾å¼ï¼Œå¯¹åº”äºf[]æ— è¡¨è¾¾å¼)ä¸åŒ¹é…ï¼Œä¸‰ä¸ªä¸‹åˆ’çº¿åŒ¹é…ç©ºä¸ºç©ºã€‚</p><p>ä¾‹å­ï¼šåˆ¤æ–­è¡¨ä¸­å…ƒç´ æ˜¯å¦éƒ½æ˜¯ç´ æ•°ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">listPrimeQ</span><span class="punctuation">[</span><span class="type">list_</span><span class="punctuation">]</span> <span class="operator">:=</span> </span><br><span class="line"> <span class="built_in">Not</span><span class="operator">@</span><span class="built_in">MatchQ</span><span class="punctuation">[</span><span class="variable">list</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="type">___</span><span class="operator">,</span> <span class="type">_</span><span class="operator">?</span><span class="punctuation">(</span><span class="built_in">Not</span><span class="punctuation">[</span><span class="built_in">PrimeQ</span><span class="punctuation">[</span><span class="type">#</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">&amp;</span><span class="punctuation">)</span><span class="operator">,</span> <span class="type">___</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"> <span class="comment">(*å‰åä¸¤ä¸ª___ï¼Œè¡¨ç¤ºå‰é¢æœ‰0ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œä¸­é—´çš„ä¸èƒ½ä¸ºç´ æ•°*)</span></span><br><span class="line"><span class="variable">list</span> <span class="operator">=</span> <span class="built_in">Array</span><span class="punctuation">[</span><span class="type">#</span><span class="operator">^</span><span class="number">2</span> <span class="operator">+</span> <span class="type">#</span> <span class="operator">+</span> <span class="number">41</span> <span class="operator">&amp;,</span> <span class="number">40</span><span class="operator">,</span> <span class="number">0</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">listPrimeQ</span><span class="punctuation">[</span><span class="variable">list</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="built_in">True</span></span><br></pre></td></tr></table></figure><p>ç”¨Longestå’ŒShortestå¯ä»¥æ§åˆ¶<code>__</code>å’Œ<code>___</code>çš„åŒ¹é…é•¿åº¦ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">e</span><span class="operator">,</span> <span class="variable">f</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="type">x__</span><span class="operator">,</span> <span class="type">y__</span><span class="operator">,</span> <span class="type">z__</span><span class="punctuation">&#125;</span> <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">z</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">e</span><span class="operator">,</span> <span class="variable">f</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="type">x__</span><span class="operator">,</span> <span class="built_in">Longest</span><span class="punctuation">[</span><span class="type">y__</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">z__</span><span class="punctuation">&#125;</span> <span class="operator">-&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">z</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="variable">a</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">b</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">e</span><span class="operator">,</span> <span class="variable">f</span><span class="operator">,</span> <span class="variable">g</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="punctuation">&#123;</span><span class="variable">a</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">b</span><span class="operator">,</span> <span class="variable">c</span><span class="operator">,</span> <span class="variable">d</span><span class="operator">,</span> <span class="variable">e</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">g</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>é‡å¤æ¨¡å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span> <span class="operator">..</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="built_in">Repeated</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="built_in">Repeated</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="built_in">Cases</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="built_in">Repeated</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¨¡å¼åºåˆ—ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">f</span><span class="punctuation">[</span><span class="variable">x</span> <span class="operator">:</span> <span class="built_in">PatternSequence</span><span class="punctuation">[</span><span class="type">_</span><span class="operator">,</span> <span class="type">_</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">y___</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="variable">y</span><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">p</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="punctuation">&#125;</span><span class="operator">,</span> <span class="punctuation">&#123;</span><span class="number">3</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> </span><br><span class="line">  <span class="variable">b</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="type">___</span><span class="operator">,</span> <span class="variable">x</span> <span class="operator">:</span> <span class="built_in">Longest</span><span class="punctuation">[</span><span class="built_in">PatternSequence</span><span class="punctuation">[</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">]</span> <span class="operator">..</span><span class="punctuation">]</span><span class="operator">,</span> <span class="type">___</span><span class="punctuation">&#125;</span> <span class="operator">:&gt;</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">,</span> <span class="variable">b</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¨¡å¼çš„é»˜è®¤å€¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">plus</span><span class="punctuation">[</span><span class="type">x_</span><span class="operator">:</span> <span class="number">0</span><span class="operator">,</span> <span class="type">y_</span><span class="operator">:</span> <span class="number">0</span><span class="punctuation">]</span> <span class="operator">:=</span> <span class="variable">x</span> <span class="operator">+</span> <span class="variable">y</span><span class="operator">;</span></span><br><span class="line"><span class="variable">plus</span><span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">plus</span><span class="punctuation">[</span><span class="variable">x</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">plus</span><span class="punctuation">[</span><span class="variable">x</span><span class="operator">,</span> <span class="variable">y</span><span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="number">0</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">x</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="variable">x</span><span class="operator">+</span><span class="variable">y</span></span><br></pre></td></tr></table></figure><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">^</span><span class="type">n_</span> <span class="operator">:&gt;</span> <span class="variable">n</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">3</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="punctuation">&#123;</span><span class="variable">x</span><span class="operator">^</span><span class="type">n_</span><span class="operator">.</span> <span class="operator">:&gt;</span>  <span class="variable">n</span><span class="punctuation">&#125;</span><span class="comment">(*ç›¸å½“äºæŠŠPowerå‡½æ•°çš„é»˜è®¤å€¼ä¹Ÿè€ƒè™‘è¿›å»äº†*)</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">1</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å­—é¢æ¨¡å¼ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">y_</span><span class="punctuation">]</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span> <span class="operator">:&gt;</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">y_</span><span class="punctuation">]</span><span class="punctuation">&#125;</span> <span class="operator">/.</span> <span class="variable">f</span><span class="punctuation">[</span><span class="built_in">Verbatim</span><span class="punctuation">[</span><span class="type">x_</span><span class="punctuation">]</span><span class="punctuation">]</span> <span class="operator">:&gt;</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="number">4</span><span class="operator">,</span> <span class="variable">a</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="type">x_</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="type">y_</span><span class="operator">^</span><span class="number">2</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="punctuation">&#123;</span><span class="variable">f</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="variable">a</span><span class="punctuation">]</span><span class="operator">,</span> <span class="variable">x</span><span class="operator">^</span><span class="number">2</span><span class="operator">,</span> <span class="variable">f</span><span class="punctuation">[</span><span class="type">y_</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2F7d065302ef2984abddb60152758c13bd66f74fba.jpg&amp;refer=http%3A%2F%2Fi0.hdslb.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1659263087&amp;t=447b47f50cbb4d4d181ed18e4ac43cb5&quot; style=&quot;zoom: 100%;&quot; /&gt;
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt; Bç«™è¯¾ç¨‹é“¾æ¥ï¼š&lt;a href=&quot;https://www.bilibili.com/video/BV1av411N7Xi?spm_id_from=333.999.0.0&amp;amp;vd_source=6177c61c946280bb88c727585de76bc8&quot;&gt;https://www.bilibili.com/video/BV1av411N7Xi?spm_id_from=333.999.0.0&amp;amp;vd_source=6177c61c946280bb88c727585de76bc8&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="è¯¾ç¨‹ç¬”è®°" scheme="https://www.hfcouc.work/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Mathematica" scheme="https://www.hfcouc.work/tags/Mathematica/"/>
    
    <category term="ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Statistical Rethinking:Chapter3</title>
    <link href="https://www.hfcouc.work/2022/06/29/rt3/"/>
    <id>https://www.hfcouc.work/2022/06/29/rt3/</id>
    <published>2022-06-29T06:55:16.000Z</published>
    <updated>2022-06-29T06:57:19.641Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Sampling-the-Imaginary"><a href="#Sampling-the-Imaginary" class="headerlink" title="Sampling the Imaginary"></a>Sampling the Imaginary</h2><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt3_1.png" alt=""></p><span id="more"></span><h3 id="Sampling-from-a-grid-approximate"><a href="#Sampling-from-a-grid-approximate" class="headerlink" title="Sampling from a grid-approximate"></a>Sampling from a grid-approximate</h3><p>æˆ‘ä»¬å…ˆç”¨ç¬¬äºŒç« çš„ä¾‹å­ç”ŸæˆåéªŒåˆ†å¸ƒï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p_grid &lt;- seq(from=<span class="number">0</span>, to=<span class="number">1</span>, length.out=<span class="number">1000</span>)</span><br><span class="line">prior &lt;- <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">1000</span>)</span><br><span class="line">likelihood &lt;- dbinom(<span class="number">6</span>, size = <span class="number">9</span>, prob = p_grid)</span><br><span class="line">posterior &lt;- likelihood * prior</span><br><span class="line">posterior &lt;- posterior / <span class="built_in">sum</span>(posterior)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬å¯¹åéªŒè¿›è¡ŒæŠ½æ ·ï¼ŒæŠ½å–$10000$ä¸ªæ ·æœ¬ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sample</span></span><br><span class="line">samples &lt;- sample(p_grid, prob = posterior, size = <span class="number">1e4</span>, replace = <span class="literal">TRUE</span>)</span><br><span class="line"><span class="comment"># plot(samples)</span></span><br><span class="line">dens(samples)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt3_2.jpeg" alt=""></p><h3 id="Sampling-to-summarize"><a href="#Sampling-to-summarize" class="headerlink" title="Sampling to summarize"></a>Sampling to summarize</h3><p>å¯¹æ ·æœ¬è¿›è¡Œæ€»ç»“ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li>å®šä¹‰è¾¹ç•Œçš„åŒºé—´</li><li>å®šä¹‰æ¦‚ç‡è´¨é‡åŒºé—´çš„é—®é¢˜</li><li>ç‚¹ä¼°è®¡çš„é—®é¢˜</li></ol><h4 id="Intervals-of-defined-boundaries"><a href="#Intervals-of-defined-boundaries" class="headerlink" title="Intervals of defined boundaries"></a>Intervals of defined boundaries</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># add up posterior probability where p &lt; 0.5</span></span><br><span class="line"><span class="built_in">sum</span>(posterior[p_grid &lt; <span class="number">0.5</span>])</span><br><span class="line">&gt; <span class="number">0.1718746</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use samples</span></span><br><span class="line"><span class="built_in">sum</span>(samples &lt; <span class="number">0.5</span>) / <span class="number">1e4</span></span><br><span class="line">&gt; <span class="number">0.1731</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span>(samples &gt; <span class="number">0.5</span> &amp; samples &lt; <span class="number">0.75</span>) / <span class="number">1e4</span></span><br><span class="line">&gt; <span class="number">0.6037</span></span><br></pre></td></tr></table></figure><h4 id="Intervals-of-defined-mass"><a href="#Intervals-of-defined-mass" class="headerlink" title="Intervals of defined mass"></a>Intervals of defined mass</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">quantile(samples, <span class="number">0.8</span>)</span><br><span class="line">&gt;       <span class="number">80</span>% </span><br><span class="line">0.7597598 </span><br><span class="line"></span><br><span class="line">quantile(samples, c(0.1, 0.9))</span><br><span class="line">&gt;       10%       <span class="number">90</span>% </span><br><span class="line">0.4504505 0.8118118 </span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>PI</code>å’Œ<code>HDPI</code>ï¼ˆhighest posterior density interval ï¼‰å‡½æ•°è®¡ç®—ç»™å®šæ¦‚ç‡è´¨é‡çš„åŒºé—´ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">p_grid &lt;- seq( from=<span class="number">0</span> , to=<span class="number">1</span> , length.out=<span class="number">1000</span> )</span><br><span class="line">prior &lt;- <span class="built_in">rep</span>(<span class="number">1</span>,<span class="number">1000</span>)</span><br><span class="line">likelihood &lt;- dbinom( <span class="number">3</span> , size=<span class="number">3</span> , prob=p_grid ) </span><br><span class="line">posterior &lt;- likelihood * prior</span><br><span class="line">posterior &lt;- posterior / <span class="built_in">sum</span>(posterior)</span><br><span class="line">samples &lt;- sample( p_grid , size=<span class="number">1e4</span> , replace=<span class="literal">TRUE</span> , prob=posterior )</span><br><span class="line"><span class="comment"># center</span></span><br><span class="line">PI(samples, prob = <span class="number">0.5</span>)</span><br><span class="line">&gt;       <span class="number">25</span>%       75% </span><br><span class="line"><span class="number">0.7067067</span> <span class="number">0.9321822</span> </span><br><span class="line"></span><br><span class="line">HPDI(samples, prob = <span class="number">0.5</span>)</span><br><span class="line">&gt;   |<span class="number">0.5</span>      <span class="number">0.5</span>| </span><br><span class="line"><span class="number">0.8428428</span> <span class="number">0.9979980</span> </span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹<code>PI</code>å’Œ<code>HDPI</code>çš„ç»“æœç›¸å·®ä¸å¤§ï¼Œä½†æ˜¯å½“æ¦‚ç‡å¯†åº¦å‡½æ•°é«˜åº¦å€¾æ–œæ—¶å…¶å€¼ä¼šå¤§ä¸ç›¸åŒã€‚</p><h4 id="Point-estimates"><a href="#Point-estimates" class="headerlink" title="Point estimates"></a>Point estimates</h4><p>æœ€å¤§åéªŒä¼°è®¡ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p_grid[which.max(posterior)]</span><br><span class="line">&gt; <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ ¹æ®æ ·æœ¬æ¥è®¡ç®—ä¼—æ•°ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chainmode(samples, adj=<span class="number">0.01</span>)</span><br><span class="line">&gt; <span class="number">0.9901787</span></span><br></pre></td></tr></table></figure><p>æˆ–æ˜¯å‡å€¼å’Œä¸­ä½æ•°</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mean(samples)</span><br><span class="line">median(samples)</span><br><span class="line">&gt; <span class="number">0.8015405</span></span><br><span class="line">&gt; <span class="number">0.8448448</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæè¿°åéªŒä¼°è®¡ç”¨å“ªä¸€ä¸ªç‚¹å‘¢ï¼Ÿæœ‰æ—¶å€™æˆ‘ä»¬é‡‡ç”¨æŸå¤±å‡½æ•°è¿˜è¡¡é‡ç‚¹çš„å¥½åï¼Œä½†æ˜¯æŸå¤±å‡½æ•°çš„é€‰æ‹©ä¹Ÿä¼šå½±å“ç‚¹çš„é€‰æ‹©ï¼Œå¦‚æˆ‘ä»¬é€‰æ‹©ä¸¤ä¸ªç‚¹ä¹‹é—´è·ç¦»çš„ç»å¯¹å€¼çš„å·®å€¼ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ä¸­ä½æ•°ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">loss &lt;- sapply(p_grid, <span class="keyword">function</span>(d) <span class="built_in">sum</span>(posterior*<span class="built_in">abs</span>(d-p_grid)))</span><br><span class="line">p_grid[which.min(loss)]</span><br><span class="line">&gt; <span class="number">0.8408408</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸ä¸­ä½æ•°éå¸¸æ¥è¿‘ã€‚</p><h3 id="Sampling-to-simulate-prediction"><a href="#Sampling-to-simulate-prediction" class="headerlink" title="Sampling to simulate prediction"></a>Sampling to simulate prediction</h3><h4 id="Dummy-data"><a href="#Dummy-data" class="headerlink" title="Dummy data"></a>Dummy data</h4><p>ä¼¼ç„¶å‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥äº§äº§ç”Ÿæ•°æ®ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¹‹é—´çš„ä¾‹å­ï¼Œæˆ‘ä»¬çš„ä¼¼ç„¶å‡½æ•°ä¸ºï¼š</p><script type="math/tex; mode=display">\Pr(w\mid n,p) = \frac{n!}{w!(n-w)!}p^w(1-p)^{n-w}</script><p>ä¾‹å¦‚è®¡ç®—æŠ•æ·ä¸¤æ¬¡ï¼Œåˆ†åˆ«æœ‰$0,1,2$æ¬¡æ˜¯æ°´çš„æ¦‚ç‡ï¼Œ$p=0.7$ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dbinom(<span class="number">0</span>:<span class="number">2</span>, size = <span class="number">2</span>, prob = <span class="number">0.7</span>)</span><br><span class="line">&gt; <span class="number">0.09</span> <span class="number">0.42</span> <span class="number">0.49</span></span><br></pre></td></tr></table></figure><p>äº§ç”Ÿæ•°æ®ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rbinom(<span class="number">10</span>, size = <span class="number">2</span>, prob = <span class="number">0.7</span>)</span><br><span class="line">&gt; <span class="number">0</span> <span class="number">2</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬ä»¥$p=0.7$çš„æ¦‚ç‡æŠ•æ·$9$æ¬¡äº§ç”Ÿ$100000$ä¸ªæ•°æ®ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dummy_w &lt;- rbinom(<span class="number">1e5</span>, size = <span class="number">9</span>, prob = <span class="number">0.7</span>)</span><br><span class="line">simplehist(dummy_w, xlab = <span class="string">&quot;dummy water count&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt3_3.jpeg" alt=""></p><h4 id="Model-checking"><a href="#Model-checking" class="headerlink" title="Model checking"></a>Model checking</h4><p>ç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹æœ‰ä¸¤ä¸ªä¸ç¡®å®šæ€§ï¼Œä¸€ä¸ªæ˜¯$p$çš„ä¸ç¡®å®šæ€§ï¼Œå› ä¸º$p$å­˜åœ¨ä¸€ä¸ªåéªŒåˆ†å¸ƒï¼Œå¦ä¸€ä¸ªæ˜¯æ ·æœ¬ç”Ÿæˆçš„ä¸ç¡®å®šæ€§ï¼Œå³ä½¿å¯¹äºå›ºå®šçš„$p$ï¼Œæ ·æœ¬çš„ç”Ÿæˆä¹Ÿæ˜¯ä¸ç¡®å®šçš„ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">w &lt;- rbinom(<span class="number">1e4</span>, size = <span class="number">9</span>, prob = samples)</span><br><span class="line">simplehist(w)</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºæˆ‘ä»¬å…ˆä»$p$çš„åéªŒåˆ†å¸ƒä¸­é‡‡æ ·$p$ï¼Œä¹‹åæ ¹æ®é‡‡æ ·å¾—åˆ°çš„$p$ç”Ÿæˆæ•°æ®ï¼Œå¾—åˆ°çš„å°±æ˜¯$p$çš„<strong>åéªŒé¢„æµ‹åˆ†å¸ƒ</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt3_4.jpeg" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Sampling-the-Imaginary&quot;&gt;&lt;a href=&quot;#Sampling-the-Imaginary&quot; class=&quot;headerlink&quot; title=&quot;Sampling the Imaginary&quot;&gt;&lt;/a&gt;Sampling the Imaginary&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/HFC666/image/master/img/rt3_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="ä¹¦ç±é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="æ¦‚ç‡ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E6%A6%82%E7%8E%87%E7%BC%96%E7%A8%8B/"/>
    
    <category term="è´å¶æ–¯ç»Ÿè®¡" scheme="https://www.hfcouc.work/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BB%9F%E8%AE%A1/"/>
    
    <category term="Statistical Rethinking" scheme="https://www.hfcouc.work/tags/Statistical-Rethinking/"/>
    
  </entry>
  
  <entry>
    <title>Statistical Rethinking:Chapter2</title>
    <link href="https://www.hfcouc.work/2022/06/29/rt2/"/>
    <id>https://www.hfcouc.work/2022/06/29/rt2/</id>
    <published>2022-06-29T01:30:27.000Z</published>
    <updated>2022-06-29T01:33:09.911Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Small-Worlds-and-Large-Worlds"><a href="#Small-Worlds-and-Large-Worlds" class="headerlink" title="Small Worlds and Large Worlds"></a>Small Worlds and Large Worlds</h2><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_1.png" alt=""></p><p>å½“åˆéº¦å“²ä¼¦è¿›è¡Œç¯çƒèˆªè¡Œçš„æ—¶å€™ï¼Œé”™è¯¯åœ°è®¤ä¸ºåœ°çƒæ¯”å®é™…è¦å°ï¼Œä»–è®¤ä¸ºåœ°çƒçš„å‘¨é•¿åªæœ‰$30000$kmè€Œä¸æ˜¯$40000$kmã€‚éº¦å“²ä¼¦çš„å¤§å°ä¸–ç•Œæä¾›äº†æ¨¡å‹ä¸ç°å®çš„å¯¹æ¯”ã€‚å°ä¸–ç•Œæ˜¯æ¨¡å‹è‡ªæˆä¸€ä½“çš„é€»è¾‘ä¸–ç•Œï¼Œåœ¨è¿™ä¸ªå°ä¸–ç•Œé‡Œæˆ‘ä»¬æ ¹æ®è‡ªå·±çš„è®¤çŸ¥å¯¹æ¨¡å‹åšå‡ºä¸€ç³»åˆ—å‡è®¾å¹¶ä¸”èƒ½å¤ŸéªŒè¯æ¨¡å‹çš„é€»è¾‘ã€‚å‡è®¾å°ä¸–ç•Œæ˜¯å¯¹ç°å®ä¸–ç•Œçš„å‡†ç¡®æè¿°ï¼Œæ²¡æœ‰æ›¿ä»£æ¨¡å‹å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨æ•°æ®ä¸­çš„ä¿¡æ¯å¹¶æ”¯æŒæ›´å¥½çš„å†³ç­–ã€‚</p><p>å¤§ä¸–ç•Œæ˜¯ç°å®ä¸–ç•Œï¼Œå¯èƒ½å­˜åœ¨å¾ˆå¤šæˆ‘ä»¬å°ä¸–ç•Œä¸­æ²¡æœ‰è€ƒè™‘çš„äº‹ä»¶ï¼Œæ¨¡å‹æ˜¯å¯¹ç°å®ä¸–ç•Œçš„ä¸å®Œæ•´è¡¨ç¤ºã€‚</p><span id="more"></span><h3 id="The-garden-of-forking-data"><a href="#The-garden-of-forking-data" class="headerlink" title="The garden of forking data"></a>The garden of forking data</h3><p>ç»™å®šæ•°æ®ï¼Œèƒ½å¤Ÿç”¨æ›´å¤šçš„æ–¹å¼äº§ç”Ÿæ•°æ®çš„è§£é‡Šæ›´å¯é (æ¦‚ç‡æ›´å¤§)ã€‚</p><h4 id="Counting-possibilities"><a href="#Counting-possibilities" class="headerlink" title="Counting possibilities"></a>Counting possibilities</h4><p>è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼Œå‡è®¾æœ‰ä¸ªè¢‹å­é‡Œæœ‰$4$ä¸ªçƒï¼Œçƒçš„é¢œè‰²ä¸ºè“è‰²å’Œç™½è‰²ï¼Œæˆ‘ä»¬æœ‰æ”¾å›åœ°å–ä¸‰ä¸ªçƒï¼Œå¾—åˆ°çš„ç»“æœä¸º<strong>è“ç™½è“</strong>ã€‚è¢‹å­é‡Œçš„çƒå’Œå¯¹åº”äºäº§ç”Ÿè¯¥ç»“æœçš„æ–¹å¼å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_2.jpg" alt=""></p><p>æ‰€ä»¥æˆ‘ä»¬æ¨æµ‹è¢‹å­é‡Œçš„çƒä¸ºç¬¬å››ç§çš„å¯èƒ½æ€§è¾ƒå¤§ã€‚</p><h4 id="Using-prior-information"><a href="#Using-prior-information" class="headerlink" title="Using prior information"></a>Using prior information</h4><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»“åˆå…ˆéªŒä¿¡æ¯ã€‚å‡è®¾æˆ‘ä»¬åˆä»è¢‹å­é‡ŒæŠ½å‡ºæ¥ä¸€ä¸ªçƒä¸ºè“è‰²ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸Šé¢å¾—åˆ°çš„ç»“æœå°±å¯ä»¥ä½œä¸ºå…ˆéªŒæ¥è¿›è¡Œæ¨æµ‹ï¼Œä¸ç°åœ¨çš„ç»“æœè¿›è¡Œç›¸ä¹˜ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_3.jpg" alt=""></p><blockquote><p>ç¬¬ä¸€åˆ—æ¯ä¸­å‡è®¾ä¸ºäº§ç”Ÿæ–°æ•°æ®çš„æ–¹å¼ï¼Œç¬¬äºŒåˆ—ä¸ºä¹‹å‰çš„ç»“æœä½œä¸ºå…ˆéªŒã€‚</p></blockquote><h4 id="From-counts-to-probability"><a href="#From-counts-to-probability" class="headerlink" title="From counts to probability"></a>From counts to probability</h4><p>æˆ‘ä»¬å¯ä»¥å°†ä¹‹é—´çš„è®¡ç®—è½¬ä¸ºæ¦‚ç‡ï¼Œè¿˜æ˜¯ä¹‹å‰çš„ä¾‹å­ï¼Œå˜ä¸ºï¼š</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_4.jpg" alt=""></p><blockquote><p>$p$ä¸ºè“è‰²çš„æ¯”ä¾‹ã€‚</p></blockquote><p>è®¡ç®—æ–¹æ³•ä¸ºï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ways &lt;- <span class="built_in">c</span>(<span class="number">0</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>)</span><br><span class="line">ways/<span class="built_in">sum</span>(ways)</span><br><span class="line">&gt; <span class="number">0.00</span> <span class="number">0.15</span> <span class="number">0.40</span> <span class="number">0.45</span> <span class="number">0.00</span></span><br></pre></td></tr></table></figure><h3 id="Building-a-model"><a href="#Building-a-model" class="headerlink" title="Building a  model"></a>Building a  model</h3><p>å‡è®¾æˆ‘ä»¬è¦ä¼°è®¡åœ°çƒä¸Šæµ·æ´‹æ‰€å çš„æ¯”ä¾‹ï¼Œå‡è®¾æˆ‘ä»¬åœ¨åœ°çƒä¸ŠéšæœºæŠ½æ ·å¾—åˆ°çš„ç»“æœä¸º<code>WLWWWLWLW</code>ã€‚æˆ‘ä»¬åˆ©ç”¨ä¸Šé¢æåˆ°çš„æ–¹æ³•å¯¹å…¶è¿›è¡Œæ¨æ–­ï¼š</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_5.jpg" alt=""></p><h3 id="Components-of-the-model"><a href="#Components-of-the-model" class="headerlink" title="Components of the model"></a>Components of the model</h3><h4 id="Likelihood"><a href="#Likelihood" class="headerlink" title="Likelihood"></a>Likelihood</h4><p>é¦–å…ˆæ˜¯ä¼¼ç„¶ï¼Œä¼¼ç„¶æŒ‡çš„æ˜¯åœ¨ç»™å®šå‚æ•°æƒ…å†µä¸‹æ•°æ®çš„åˆç†æ€§(å‘ç”Ÿçš„å¯èƒ½æ€§)ã€‚</p><h4 id="Prior"><a href="#Prior" class="headerlink" title="Prior"></a>Prior</h4><p>å¯¹äºæˆ‘ä»¬æƒ³è¦è´å¶æ–¯ä¼°è®¡çš„æ¯ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶æä¾›å…ˆéªŒã€‚å…ˆéªŒä¹Ÿä¸ºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œå¯ä»¥æ˜¯ä¹‹å‰æ•°æ®å¾—åˆ°çš„å‚æ•°çš„æ¦‚ç‡åˆ†å¸ƒæˆ–æ˜¯æˆ‘ä»¬è‡ªå·±æ ¹æ®ç»éªŒçš„æ¦‚ç‡åˆ†å¸ƒã€‚</p><h4 id="Posterior"><a href="#Posterior" class="headerlink" title="Posterior"></a>Posterior</h4><p>å†æœ‰äº†å…ˆéªŒå’Œä¼¼ç„¶åæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—åéªŒï¼š</p><script type="math/tex; mode=display">\text { Posterior }=\frac{\text { Likelihood } \times \text { Prior }}{\text { Average Likelihood }}</script><h3 id="Making-the-model-go"><a href="#Making-the-model-go" class="headerlink" title="Making the model go"></a>Making the model go</h3><p>ç”±äºåéªŒåˆ†å¸ƒå­˜åœ¨ç§¯åˆ†ï¼Œæˆ‘ä»¬æœ‰æ—¶æ— æ³•ç›´æ¥å¯¹å…¶è¿›è¡Œè®¡ç®—ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ•°å€¼æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸»è¦ä»‹ç»ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li>ç½‘æ ¼è¿‘ä¼¼</li><li>äºŒæ¬¡é€¼è¿‘</li><li>MCMC</li></ol><h4 id="Grid-approximation"><a href="#Grid-approximation" class="headerlink" title="Grid approximation"></a>Grid approximation</h4><p>æœ€ç®€å•çš„è°ƒèŠ‚æŠ€æœ¯ä¹‹ä¸€æ˜¯ç½‘æ ¼è¿‘ä¼¼ã€‚è™½ç„¶å¤§å¤šæ•°å‚æ•°æ˜¯è¿ç»­çš„ï¼Œèƒ½å¤Ÿå–æ— é™æ•°é‡çš„å€¼ï¼Œä½†äº‹å®è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»…è€ƒè™‘å‚æ•°å€¼çš„æœ‰é™ç½‘æ ¼æ¥å®ç°å¯¹è¿ç»­åéªŒåˆ†å¸ƒçš„æå¥½è¿‘ä¼¼ã€‚</p><p>ä½†æ˜¯åœ¨å¤§å¤šæ•°çœŸå®å»ºæ¨¡ä¸­ï¼Œç½‘æ ¼è¿‘ä¼¼æ˜¯ä¸åˆ‡å®é™…çš„ã€‚åŸå› æ˜¯éšç€å‚æ•°æ•°é‡çš„å¢åŠ ï¼Œå®ƒçš„æ‰©å±•æ€§å¾ˆå·®ã€‚æ‰€ä»¥åœ¨åé¢çš„ç« èŠ‚ä¸­ï¼Œç½‘æ ¼è¿‘ä¼¼å°†é€æ¸æ¶ˆå¤±ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å…¶ä»–æ›´æœ‰æ•ˆçš„æŠ€æœ¯ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># define grid</span></span><br><span class="line">p_grid &lt;- seq(from=<span class="number">0</span>, to=<span class="number">1</span>, length.out=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># define prior</span></span><br><span class="line">prior = <span class="built_in">rep</span>(<span class="number">1</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># compute likelihood at each value in grid</span></span><br><span class="line">likelihood &lt;- dbinom(<span class="number">6</span>, size = <span class="number">9</span>, prob = p_grid)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># compute product of likelihood and prior</span></span><br><span class="line">unstd.posterior &lt;- likelihood * prior</span><br><span class="line"></span><br><span class="line"><span class="comment"># standardize the posterior, so it sums to 1</span></span><br><span class="line">posterior &lt;- unstd.posterior / <span class="built_in">sum</span>(unstd.posterior)</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plot(p_grid, posterior, type = <span class="string">&quot;b&quot;</span>, xlab = <span class="string">&quot;probability of water&quot;</span>, ylab = <span class="string">&quot;posterior probability&quot;</span>)</span><br><span class="line">mtext(<span class="string">&quot;20 points&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_6.jpeg" alt=""></p><h4 id="Quadratic-approximation"><a href="#Quadratic-approximation" class="headerlink" title="Quadratic approximation"></a>Quadratic approximation</h4><p>åœ¨ä¸€èˆ¬çš„æ¡ä»¶ä¸‹ï¼ŒåéªŒåˆ†å¸ƒå³°å€¼é™„è¿‘çš„åŒºåŸŸåœ¨å½¢çŠ¶ä¸Šå°†æ¥è¿‘é«˜æ–¯æˆ–æ­£æ€åˆ†å¸ƒã€‚è¿™æ„å‘³ç€åéªŒåˆ†å¸ƒå¯ä»¥æœ‰ç”¨åœ°è¿‘ä¼¼ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚é«˜æ–¯åˆ†å¸ƒå¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå®ƒå¯ä»¥å®Œå…¨ç”¨ä¸¤ä¸ªæ•°å­—æ¥æè¿°ï¼šä¸­å¿ƒçš„ä½ç½®ï¼ˆå‡å€¼ï¼‰å’Œåˆ†å¸ƒï¼ˆæ–¹å·®ï¼‰ã€‚è¯¥æ–¹æ³•åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>æ‰¾åˆ°åéªŒåˆ†å¸ƒçš„ä¼—æ•°</li><li>ä¸€æ—¦æ‰¾åˆ°åéªŒçš„å³°å€¼ï¼Œå°±å¿…é¡»ä¼°è®¡å³°å€¼é™„è¿‘çš„æ›²ç‡ã€‚è¯¥æ›²ç‡è¶³ä»¥è®¡ç®—æ•´ä¸ªåéªŒåˆ†å¸ƒçš„äºŒæ¬¡è¿‘ä¼¼</li></ol><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">library(rethinking)</span><br><span class="line">globe.qa &lt;- map(</span><br><span class="line">  alist(</span><br><span class="line">    w ~ dbinom(<span class="number">9</span>, p), <span class="comment">#likelihood</span></span><br><span class="line">    p ~ dunif(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">  ),</span><br><span class="line">  data = <span class="built_in">list</span>(w=<span class="number">6</span>)</span><br><span class="line">)</span><br><span class="line"><span class="comment"># display summary of quadratic approximation</span></span><br><span class="line">precis(globe.qa)</span><br><span class="line">&gt;  mean   sd <span class="number">5.5</span>% 94.5%</span><br><span class="line">p <span class="number">0.67</span> <span class="number">0.16</span> <span class="number">0.42</span>  <span class="number">0.92</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸çœŸå®çš„åéªŒè¿›è¡Œæ¯”è¾ƒï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># analytical calculation</span></span><br><span class="line">w &lt;- 6</span><br><span class="line">n &lt;- 9</span><br><span class="line">curve(dbeta(x, w+<span class="number">1</span>, n-w+<span class="number">1</span>), from = <span class="number">0</span>, to=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># quadratic approximation</span></span><br><span class="line">curve(dnorm(x, <span class="number">0.67</span>, <span class="number">0.16</span>), lty=<span class="number">2</span>, add = <span class="literal">TRUE</span>)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt2_7.jpeg" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Small-Worlds-and-Large-Worlds&quot;&gt;&lt;a href=&quot;#Small-Worlds-and-Large-Worlds&quot; class=&quot;headerlink&quot; title=&quot;Small Worlds and Large Worlds&quot;&gt;&lt;/a&gt;Small Worlds and Large Worlds&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/HFC666/image/master/img/rt2_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;å½“åˆéº¦å“²ä¼¦è¿›è¡Œç¯çƒèˆªè¡Œçš„æ—¶å€™ï¼Œé”™è¯¯åœ°è®¤ä¸ºåœ°çƒæ¯”å®é™…è¦å°ï¼Œä»–è®¤ä¸ºåœ°çƒçš„å‘¨é•¿åªæœ‰$30000$kmè€Œä¸æ˜¯$40000$kmã€‚éº¦å“²ä¼¦çš„å¤§å°ä¸–ç•Œæä¾›äº†æ¨¡å‹ä¸ç°å®çš„å¯¹æ¯”ã€‚å°ä¸–ç•Œæ˜¯æ¨¡å‹è‡ªæˆä¸€ä½“çš„é€»è¾‘ä¸–ç•Œï¼Œåœ¨è¿™ä¸ªå°ä¸–ç•Œé‡Œæˆ‘ä»¬æ ¹æ®è‡ªå·±çš„è®¤çŸ¥å¯¹æ¨¡å‹åšå‡ºä¸€ç³»åˆ—å‡è®¾å¹¶ä¸”èƒ½å¤ŸéªŒè¯æ¨¡å‹çš„é€»è¾‘ã€‚å‡è®¾å°ä¸–ç•Œæ˜¯å¯¹ç°å®ä¸–ç•Œçš„å‡†ç¡®æè¿°ï¼Œæ²¡æœ‰æ›¿ä»£æ¨¡å‹å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨æ•°æ®ä¸­çš„ä¿¡æ¯å¹¶æ”¯æŒæ›´å¥½çš„å†³ç­–ã€‚&lt;/p&gt;
&lt;p&gt;å¤§ä¸–ç•Œæ˜¯ç°å®ä¸–ç•Œï¼Œå¯èƒ½å­˜åœ¨å¾ˆå¤šæˆ‘ä»¬å°ä¸–ç•Œä¸­æ²¡æœ‰è€ƒè™‘çš„äº‹ä»¶ï¼Œæ¨¡å‹æ˜¯å¯¹ç°å®ä¸–ç•Œçš„ä¸å®Œæ•´è¡¨ç¤ºã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ä¹¦ç±é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="æ¦‚ç‡ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E6%A6%82%E7%8E%87%E7%BC%96%E7%A8%8B/"/>
    
    <category term="è´å¶æ–¯ç»Ÿè®¡" scheme="https://www.hfcouc.work/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BB%9F%E8%AE%A1/"/>
    
    <category term="Statistical Rethinking" scheme="https://www.hfcouc.work/tags/Statistical-Rethinking/"/>
    
  </entry>
  
  <entry>
    <title>Statistical Rethinking:Chapter1</title>
    <link href="https://www.hfcouc.work/2022/06/28/rt1/"/>
    <id>https://www.hfcouc.work/2022/06/28/rt1/</id>
    <published>2022-06-28T09:47:59.000Z</published>
    <updated>2022-06-29T01:30:33.136Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="The-Golem-of-Prague"><a href="#The-Golem-of-Prague" class="headerlink" title="The Golem of Prague"></a>The Golem of Prague</h2><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt1_1.png" alt=""></p><p><code>golem</code>ä¸ºé­”åƒï¼Œä¸ºä¸€ä¸ªéå¸¸å¼ºå¤§çš„æœºå™¨äººï¼Œä½†æ˜¯å®ƒåªä¼šå¬ä»äººçš„å‘½ä»¤ï¼Œæ²¡æœ‰è‡ªä¸»æ€è€ƒçš„èƒ½åŠ›ã€‚å› æ­¤äººç±»å¿…é¡»ç»™ä»–è®¾ç½®éå¸¸å…·ä½“çš„å‘½ä»¤ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¹äººç±»é€ æˆä¼¤å®³ã€‚</p><span id="more"></span><h3 id="Statistical-golems"><a href="#Statistical-golems" class="headerlink" title="Statistical golems"></a>Statistical golems</h3><p>ç»Ÿè®¡å®¶ä¹Ÿåˆ¶é€ é­”åƒã€‚</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt1_2.jpg" alt=""></p><blockquote><p>ç»Ÿè®¡å®¶åˆ¶é€ çš„é­”åƒï¼Œéå¸¸å¼ºå¤§ï¼Œä½†ä¹ŸåŒæ ·éœ€è¦äººç±»çš„æŒ‡å¯¼ã€‚ç¼ºä¹çµæ´»æ€§ï¼Œåœ¨éœ€è¦åˆ›é€ æ€§çš„åŒºåŸŸæ— æ³•åº”ç”¨ã€‚</p></blockquote><h3 id="Statistical-rethinking"><a href="#Statistical-rethinking" class="headerlink" title="Statistical rethinking"></a>Statistical rethinking</h3><p>å¾ˆå¤šäººè®¤ä¸ºç»Ÿè®¡æ¨æ–­çš„ç›®æ ‡æ˜¯æ£€éªŒæ— æ•ˆå‡è®¾ã€‚ä½†è¿™æ˜¯ä¸æ­£ç¡®çš„ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸¤ä¸ªç†ç”±ï¼š</p><ol><li>å‡è®¾ä¸æ˜¯æ¨¡å‹ã€‚å‡è®¾å’Œä¸åŒç§ç±»çš„æ¨¡å‹ä¹‹é—´çš„å…³ç³»æ˜¯å¤æ‚çš„ã€‚è®¸å¤šæ¨¡å‹å¯¹åº”åŒä¸€ä¸ªå‡è®¾ï¼Œè®¸å¤šå‡è®¾å¯¹åº”ä¸€ä¸ªæ¨¡å‹ã€‚è¿™ä½¿å¾—ä¸¥æ ¼çš„è¯ä¼ªå˜å¾—ä¸å¯èƒ½ã€‚</li><li>æµ‹é‡å¾ˆé‡è¦ã€‚å³ä½¿æˆ‘ä»¬è®¤ä¸ºæ•°æ®è¯ä¼ªäº†æ¨¡å‹ï¼Œå¦ä¸€ä½è§‚å¯Ÿè€…ä¹Ÿä¼šäº‰è®ºæˆ‘ä»¬çš„æ–¹æ³•å’Œæªæ–½ã€‚ä»–ä»¬ä¸ç›¸ä¿¡æ•°æ®ã€‚æœ‰æ—¶ä»–ä»¬æ˜¯å¯¹çš„ã€‚</li></ol><h4 id="Hypotheses-are-not-models"><a href="#Hypotheses-are-not-models" class="headerlink" title="Hypotheses are not models"></a>Hypotheses are not models</h4><p>å½“æˆ‘ä»¬è¯•å›¾è¯ä¼ªä¸€ä¸ªå‡è®¾æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨æŸç§æ¨¡å‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ä»…ä»…é€šè¿‡ä¸€ä¸ªæ¨¡å‹æ¥è¯æ˜å‡è®¾æ˜¯é”™è¯¯çš„ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸ªå…³äºè¿›åŒ–çš„ä¾‹å­ï¼Œæœ‰äººè®¤ä¸ºè¿›åŒ–æ˜¯ä¸­æ€§çš„ï¼Œè€Œæœ‰äººä¸è¿™ä¹ˆè®¤ä¸ºï¼Œæ‰€æœ‰å­˜åœ¨ä¸¤ä¸ªå‡è®¾ã€‚åŒä¸€ä¸ªå‡è®¾å¯èƒ½å¯¼è‡´ä¸åŒçš„è¿‡ç¨‹çš„æ¨¡å‹ï¼Œè€ŒåŒä¸€ä¸ªè¿‡ç¨‹æ¨¡å‹ä¼šå¼•å‡ºä¸åŒçš„ç»Ÿè®¡æ¨¡å‹ï¼ŒåŒä¸€ä¸ªç»Ÿè®¡æ¨¡å‹ä¹Ÿå¯èƒ½å¯¹åº”äºä¸åŒçš„è¿‡ç¨‹æ¨¡å‹å’Œå‡è®¾ï¼Œå› æ­¤è¯ä¼ªéå¸¸å¤æ‚ã€‚</p><p><img src="https://raw.githubusercontent.com/HFC666/image/master/img/rt1_3.jpg" alt=""></p><h4 id="Measurement-matters"><a href="#Measurement-matters" class="headerlink" title="Measurement matters"></a>Measurement matters</h4><p>é¦–å…ˆè§‚æµ‹æ˜¯å­˜åœ¨è¯¯å·®çš„ï¼Œè€Œä¸”æœ‰çš„æµ‹é‡éå¸¸å¤æ‚å®¹æ˜“å‡ºç°è¯¯å·®ã€‚</p><p>å…¶æ¬¡å‡è®¾å¹¶ä¸ä¸€å®šæ˜¯ç¦»æ•£çš„ï¼Œç°å®ç”Ÿæ´»ä¸­çš„å¾ˆå¤šå‡è®¾éƒ½æ˜¯è¿ç»­çš„ï¼Œä¾‹å¦‚$80\%$çš„å¤©é¹…éƒ½æ˜¯ç™½è‰²çš„ï¼Œå¯¹æˆ‘ä»¬è¯ä¼ªæ¥è¯´éå¸¸å›°éš¾ã€‚</p><h3 id="Three-tools-for-golem-engineering"><a href="#Three-tools-for-golem-engineering" class="headerlink" title="Three tools for golem engineering"></a>Three tools for golem engineering</h3><h4 id="Bayesian-data-analysis"><a href="#Bayesian-data-analysis" class="headerlink" title="Bayesian data analysis"></a>Bayesian data analysis</h4><p>è´å¶æ–¯ç»Ÿè®¡ç”¨éšæœºå‹æ¥æè¿°ä¸ç¡®å®šæ€§ï¼Œæ›´è¯¦ç»†çš„å°†åœ¨ç¬¬äºŒç« è®²è¿°ã€‚</p><h4 id="Multilevel-models"><a href="#Multilevel-models" class="headerlink" title="Multilevel models"></a>Multilevel models</h4><p>ä½¿ç”¨å¤šçº§æ¨¡å‹æœ‰å››ä¸ªå…¸å‹ä¸”äº’è¡¥çš„åŸå› ï¼š</p><ol><li>è°ƒæ•´é‡å¤æŠ½æ ·çš„ä¼°è®¡å€¼ã€‚å½“ä¸æ­¢ä¸€ä¸ªè§‚å¯Ÿæ¥è‡ªåŒä¸€ä¸ªäººã€åœ°ç‚¹æˆ–æ—¶é—´æ—¶ï¼Œä¼ ç»Ÿçš„å•çº§æ¨¡å‹å¯èƒ½ä¼šè¯¯å¯¼æˆ‘ä»¬ã€‚</li><li>è°ƒæ•´æŠ½æ ·ä¸å¹³è¡¡çš„ä¼°è®¡å€¼ã€‚å½“æŸäº›ä¸ªä½“ã€åœ°ç‚¹æˆ–æ—¶é—´çš„é‡‡æ ·æ¬¡æ•°å¤šäºå…¶ä»–äººæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½ä¼šè¢«å•çº§æ¨¡å‹è¯¯å¯¼ã€‚</li><li>ç ”ç©¶å˜å¼‚ã€‚å¦‚æœæˆ‘ä»¬çš„ç ”ç©¶é—®é¢˜åŒ…æ‹¬æ•°æ®ä¸­ä¸ªäººæˆ–å…¶ä»–ç¾¤ä½“ä¹‹é—´çš„å˜åŒ–ï¼Œé‚£ä¹ˆå¤šå±‚æ¬¡æ¨¡å‹å°†æœ‰å¾ˆå¤§å¸®åŠ©ï¼Œå› ä¸ºå®ƒä»¬æ˜ç¡®åœ°æ¨¡æ‹Ÿäº†å˜åŒ–ã€‚</li><li>é¿å…å¹³å‡ã€‚å­¦è€…ä»¬ç»å¸¸å¯¹ä¸€äº›æ•°æ®è¿›è¡Œé¢„å¹³å‡ï¼Œä»¥æ„å»ºç”¨äºå›å½’åˆ†æçš„å˜é‡ã€‚è¿™å¯èƒ½å¾ˆå±é™©ï¼Œå› ä¸ºå¹³å‡ä¼šæ¶ˆé™¤å˜åŒ–ã€‚å› æ­¤ï¼Œå®ƒåˆ¶é€ äº†è™šå‡çš„ä¿¡å¿µã€‚å¤šçº§æ¨¡å‹å…è®¸æˆ‘ä»¬ä¿ç•™åŸå§‹é¢„å¹³å‡å€¼ä¸­çš„ä¸ç¡®å®šæ€§ï¼ŒåŒæ—¶ä»ä½¿ç”¨å¹³å‡å€¼è¿›è¡Œé¢„æµ‹ã€‚</li></ol><h4 id="Model-comparison-and-information-criteria"><a href="#Model-comparison-and-information-criteria" class="headerlink" title="Model comparison and information criteria"></a>Model comparison and information criteria</h4><p>æœ€è‘—åçš„ä¿¡æ¯å‡†åˆ™æ˜¯ AICï¼Œå³ Akaike (ah-kah-ee-kay) ä¿¡æ¯å‡†åˆ™ã€‚AIC åŠå…¶åŒç±»è¢«ç§°ä¸ºâ€œä¿¡æ¯â€æ ‡å‡†ï¼Œå› ä¸ºå®ƒä»¬ä»ä¿¡æ¯è®ºä¸­å‘å±•å‡ºå¯¹æ¨¡å‹å‡†ç¡®æ€§çš„åº¦é‡ã€‚æˆ‘ä»¬å¯ä»¥ç”¨èµ·æ¥æ¯”è¾ƒæ¨¡å‹çš„å¥½åã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;The-Golem-of-Prague&quot;&gt;&lt;a href=&quot;#The-Golem-of-Prague&quot; class=&quot;headerlink&quot; title=&quot;The Golem of Prague&quot;&gt;&lt;/a&gt;The Golem of Prague&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/HFC666/image/master/img/rt1_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;golem&lt;/code&gt;ä¸ºé­”åƒï¼Œä¸ºä¸€ä¸ªéå¸¸å¼ºå¤§çš„æœºå™¨äººï¼Œä½†æ˜¯å®ƒåªä¼šå¬ä»äººçš„å‘½ä»¤ï¼Œæ²¡æœ‰è‡ªä¸»æ€è€ƒçš„èƒ½åŠ›ã€‚å› æ­¤äººç±»å¿…é¡»ç»™ä»–è®¾ç½®éå¸¸å…·ä½“çš„å‘½ä»¤ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¹äººç±»é€ æˆä¼¤å®³ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="ä¹¦ç±é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="æ¦‚ç‡ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E6%A6%82%E7%8E%87%E7%BC%96%E7%A8%8B/"/>
    
    <category term="è´å¶æ–¯ç»Ÿè®¡" scheme="https://www.hfcouc.work/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%BB%9F%E8%AE%A1/"/>
    
    <category term="Statistical Rethinking" scheme="https://www.hfcouc.work/tags/Statistical-Rethinking/"/>
    
  </entry>
  
  <entry>
    <title>Turing:a language for flexible probabilistic inference</title>
    <link href="https://www.hfcouc.work/2022/06/28/Turing/"/>
    <id>https://www.hfcouc.work/2022/06/28/Turing/</id>
    <published>2022-06-28T02:32:40.000Z</published>
    <updated>2022-06-28T02:40:23.041Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Turing-a-language-for-flexible-probabilistic-inference"><a href="#Turing-a-language-for-flexible-probabilistic-inference" class="headerlink" title="Turing: a language for flexible probabilistic inference"></a>Turing: a language for flexible probabilistic inference</h2><blockquote><p>æ–‡ç« é“¾æ¥ï¼š<a href="http://proceedings.mlr.press/v84/ge18b.html?ref=https://githubhelp.com">http://proceedings.mlr.press/v84/ge18b.html?ref=https://githubhelp.com</a></p></blockquote><p><img src="http://static01.imgkr.com/temp/9ce5f3b2581549b8b89e6c9cdf7ebea5.png" alt=""></p><span id="more"></span><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>åœ¨æ¦‚ç‡æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å…³æ³¨çš„ä¸€èˆ¬æ˜¯$p(\theta\mid y,\gamma)$ï¼Œå…¶ä¸­$\theta$ä¸ºå‚æ•°ï¼Œ$y$ä¸ºè§‚æµ‹æ•°æ®ï¼Œ$\gamma$ä¸ºä¸€äº›ç¡®å®šäº†çš„è¶…å‚æ•°ã€‚</p><h4 id="Models-as-computer-programs"><a href="#Models-as-computer-programs" class="headerlink" title="Models as computer programs"></a>Models as computer programs</h4><p>æœ€æ—©çš„æ¦‚ç‡ç¼–ç¨‹è¯­è¨€ä¸ºBUGSï¼Œå¯ä»¥è¿½æº¯åˆ°20ä¸–çºª90å¹´ä»£ã€‚ä¸‹é¢å±•ç¤ºäº†æ¦‚ç‡ç¨‹åºçš„ä¸€èˆ¬ç»“æ„ã€‚</p><p>è¾“å…¥ï¼šæ•°æ®$y$å’Œè¶…å‚æ•°$\gamma$</p><p>æ­¥éª¤1ï¼šå®šä¹‰å…¨å±€å‚æ•°ï¼š</p><script type="math/tex; mode=display">\theta^{\text{global}}\sim p(\cdot\mid \gamma)</script><p>æ­¥éª¤2ï¼šå¯¹äºæ¯ä¸€ä¸ªè§‚æµ‹$y_n$ï¼Œå®šä¹‰(å±€éƒ¨)éšå˜é‡å¹¶è®¡ç®—ä¼¼ç„¶ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\theta_n^{\text{local}}&\sim p\left(\cdot\mid\theta_{1:n-1}^{\text{local}},\theta^{\text{global}},\gamma\right)\\y_n&\sim p\left(\cdot\mid \theta_{1:n}^{\text{local}},\theta^{\text{global}},\gamma\right)\end{aligned}</script><p>å…¶ä¸­$n=1,2,\cdots,N$ã€‚</p><p>å‚æ•°åˆ†ä¸ºä¸¤ç±»ï¼š$\theta_n^{\text{local}}$è¡¨ç¤ºå¯¹äºè§‚æµ‹$y_n$çš„æ¨¡å‹å‚æ•°ï¼Œå¦‚æ··åˆé«˜æ–¯æ¨¡å‹ä¸­$y_n$å±äºå“ªä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼Œè€Œ$\theta^{\text{global}}$è¡¨ç¤ºå…¨å±€å˜é‡ã€‚</p><h4 id="Inference-for-probabilistic-programs"><a href="#Inference-for-probabilistic-programs" class="headerlink" title="Inference for probabilistic programs"></a>Inference for probabilistic programs</h4><p>æ¦‚ç‡ç¨‹åºåªæœ‰åœ¨ä¸é«˜æ•ˆçš„æ¨ç†å¼•æ“ç›¸ç»“åˆæ—¶æ‰èƒ½å‘æŒ¥å…¶çµæ´»æ€§æ½œåŠ›ã€‚ä¸ºäº†è§£é‡Šæ¦‚ç‡ç¼–ç¨‹ä¸­æ¨ç†å¦‚ä½•å·¥ä½œï¼Œæˆ‘ä»¬è€ƒè™‘ä»¥ä¸‹å…·æœ‰$K$ä¸ªçŠ¶æ€çš„HMMä¾‹å­ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\pi_k&\sim \text{Dir}(\theta)\\\phi_k&\sim p(\gamma)\\z_t\mid z_{t-1}&\sim \text{Cat}(\cdot\mid \pi_{z_{t-1}})\\y_t\mid z_t&\sim h(\cdot\mid \phi_{z_t})\end{aligned}</script><p>å…¶ä¸­$k = 1,2,\cdots,K$ï¼Œ$t = 1,\cdots,N$ã€‚</p><p>å…·æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤çš„é«˜æ•ˆ Gibbs é‡‡æ ·å™¨é€šå¸¸ç”¨äºè´å¶æ–¯æ¨ç†ï¼š</p><ul><li>Step 1: Sample $z_{1: T} \sim z_{1: T} \mid \phi_{1: K}, \pi_{1: K}, y_{1: T} ;$</li><li>Step 2: Sample $\phi_{k} \sim \phi_{k} \mid z_{1: T}, y_{1: T}, \gamma$;</li><li>Step 3: Sample $\pi_{k} \sim \pi_{k} \mid z_{1: T}, \theta(k=1, \ldots, K)$.</li></ul><h4 id="Computation-graph-based-inference"><a href="#Computation-graph-based-inference" class="headerlink" title="Computation graph based inference"></a>Computation graph based inference</h4><p>å¯¹æ¦‚ç‡ç¨‹åºè¿›è¡Œå»ºæ¨¡çš„ä¸€å¤§æŒ‘æˆ˜æ˜¯æ„å»ºæ¨¡å‹å˜é‡ä¹‹é—´çš„è®¡ç®—å›¾ã€‚å¯¹äºä¸€äº›ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨æ¨ç†ä¹‹å‰æ¦‚ç‡å›¾æ¨¡å‹å°±å·²ç»ç”Ÿæˆï¼Œä½†æ˜¯å½“ç¨‹åºä¸­å­˜åœ¨éšæœºåˆ†æ”¯æ—¶å°±ä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ±‚åŠ©äºå…¶ä»–æ¨ç†æ–¹æ³•ã€‚</p><h3 id="Composable-MCMC-inference"><a href="#Composable-MCMC-inference" class="headerlink" title="Composable MCMC inference"></a>Composable MCMC inference</h3><p>æˆ‘ä»¬æå‡ºçš„å¯ç»„åˆæ¨ç†æ–¹æ³•åˆ©ç”¨äº†HMCç®—æ³•å’Œç²’å­å‰å¸ƒæ–¯(PG)ç®—æ³•ã€‚ä¸ºäº†æè¿°æ‰€æå‡ºçš„æ¦‚ç‡ç¨‹åºæ–¹æ³•ï¼Œæˆ‘ä»¬åˆ©ç”¨æ½œåœ¨ç‹„åˆ©å…‹é›·åˆ†é…(LDA)çš„ä¾‹å­ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model</span> lda(K ,M, N, w, d, beta, alpha) = <span class="keyword">begin</span></span><br><span class="line">    theta = <span class="built_in">Vector</span>&#123;<span class="built_in">Vector</span>&#123;<span class="built_in">Real</span>&#125;&#125;(M)</span><br><span class="line">    <span class="keyword">for</span> m = <span class="number">1</span>:M</span><br><span class="line">        theta[m] ~ Dirichlet(alpha)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    phi = <span class="built_in">Vector</span>&#123;<span class="built_in">Vector</span>&#123;<span class="built_in">Real</span>&#125;&#125;(K)</span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:K</span><br><span class="line">        phi[k] ~ Dirichlet(beta)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    z = tzeros(<span class="built_in">Int</span>, N)</span><br><span class="line">    <span class="keyword">for</span> n = <span class="number">1</span>:N</span><br><span class="line">        z[n] ~ Categorical(theta[d[n]])</span><br><span class="line">        w[n] ~ Categorical(phi[z[n]])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­å˜é‡$\phi,\theta,z$è¡¨ç¤ºæ¨¡å‹å‚æ•°ï¼Œå˜é‡$K,M,N,d,\beta,\alpha$è¡¨ç¤ºè¶…å‚æ•°ï¼Œ$w$è¡¨ç¤ºè§‚æµ‹æ•°æ®ã€‚</p><p>ä¸€æ—¦å®šä¹‰äº†æ¨¡å‹ï¼Œæä¾›æ•°æ®å’Œæ‰§è¡Œæ¨ç†å°±å¾ˆç›´è§‚äº†ã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model = lda(K, V, M, N, w, d, beta, alpha)</span><br><span class="line">sample(model, engine)</span><br></pre></td></tr></table></figure><p><code>engine</code>æ˜¯æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„MCMCå¼•æ“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦åº”ç”¨ä¾‹å­å‰å¸ƒæ–¯é‡‡æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spl = PG(n, m)</span><br><span class="line">sample(model, spl)</span><br></pre></td></tr></table></figure><p>è¿™å°†ä¼šç”¨å«æœ‰$m$ä¸ªç²’å­çš„PGè¿›è¡Œ$n$æ¬¡è¿­ä»£ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹ä¸åŒçš„å‚æ•°é‡‡ç”¨ä¸åŒçš„é‡‡æ ·å™¨ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spl2 = Gibbs(<span class="number">1000</span>, PG(<span class="number">10</span>,<span class="number">2</span>,:z), HMC(<span class="number">2</span>, <span class="number">0.1</span>, <span class="number">1</span>, <span class="number">5</span>, :phi,:theta))</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°é‡‡æ ·å¼•æ“<code>spl2</code>å°†å‚æ•°åˆ†å‰²ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†é‡‡ç”¨ä¸åŒçš„é‡‡æ ·æ–¹æ³•ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåˆ†å¸ƒçš„ä¸¤ä¸ªéƒ¨åˆ†ä¸éœ€è¦æ˜¯äº’æ–¥çš„ã€‚</p><h4 id="A-family-of-MCMC-operators"><a href="#A-family-of-MCMC-operators" class="headerlink" title="A family of MCMC operators"></a>A family of MCMC operators</h4><p><img src="http://static01.imgkr.com/temp/679a0f1dc05a4456ae7ee80183c63582.jpg" alt=""></p><blockquote><p>Supported Monte Carlo algorithms in Turing</p></blockquote><h3 id="Implementation-and-Experiments"><a href="#Implementation-and-Experiments" class="headerlink" title="Implementation and Experiments"></a>Implementation and Experiments</h3><h4 id="The-Turing-library"><a href="#The-Turing-library" class="headerlink" title="The Turing library"></a>The Turing library</h4><p>Turingä¸ºJuliaçš„ä¸€ä¸ªåŒ…ã€‚å› ä¸ºTuringä¸ºä¸€èˆ¬çš„Juliaç¨‹åºï¼Œå› æ­¤å®ƒå¯ä»¥åˆ©ç”¨Juliaä¸­ä¸°å¯Œçš„æ•°å€¼å’Œç»Ÿè®¡åº“ã€‚</p><h5 id="Efficient-particle-Gibbs-implementation"><a href="#Efficient-particle-Gibbs-implementation" class="headerlink" title="Efficient particle Gibbs implementation"></a>Efficient particle Gibbs implementation</h5><p>æˆ‘ä»¬ä½¿ç”¨åç¨‹æ¥å®ç°ç²’å­ Gibbsã€‚åç¨‹å¯ä»¥çœ‹ä½œæ˜¯å‡½æ•°çš„æ³›åŒ–ï¼Œå…·æœ‰å¯ä»¥åœ¨å¤šä¸ªç‚¹æš‚åœå’Œæ¢å¤çš„ç‰¹æ€§ã€‚</p><h5 id="Automatic-differentiation"><a href="#Automatic-differentiation" class="headerlink" title="Automatic differentiation"></a>Automatic differentiation</h5><p>HMCåœ¨é‡‡æ ·çš„è¿‡ç¨‹éœ€è¦æ¢¯åº¦ï¼Œå½“ç»™å®šå®šä¹‰$\log p(\theta\mid z_{1:N},\gamma)$çš„è®¡ç®—ç¨‹åºæ—¶ï¼Œè¿™äº›æ¢¯åº¦å¯ä»¥é€šè¿‡è‡ªåŠ¨å¾®åˆ†(AD)è‡ªåŠ¨è·å¾—ã€‚ä¸ºäº†ç®€ä¾¿å’Œé«˜æ•ˆï¼Œæˆ‘ä»¬ç‡å…ˆä½¿ç”¨äº†ä¸€ç§ç§°ä¸ºå‘é‡æ¨¡å¼çš„å‰å‘å¾®åˆ†æŠ€æœ¯ã€‚å‘é‡æ¨¡å¼å‰å‘å¾®åˆ†èƒŒåçš„ä¸»è¦æ¦‚å¿µæ˜¯å¤šç»´å¯¹å¶æ•°ï¼Œå…¶åœ¨æ ‡é‡å‡½æ•°ä¸Šçš„è¡Œä¸ºå®šä¹‰ä¸ºï¼š</p><script type="math/tex; mode=display">f\left(\theta+\sum_{i=1}^D y_i\epsilon_i\right) = f(\theta) + f^{\prime}(\theta)\sum_{i=1}^Dy_i\epsilon_i</script><p>å…¶ä¸­$\epsilon_i\epsilon_j=0,\text{for }i\neq j$ã€‚</p><p>å¯¹äºå°æ¨¡å‹ï¼Œå‘é‡å‰å‘ADéå¸¸é«˜æ•ˆã€‚ä½†æ˜¯å¯¹äºå¤§æ¨¡å‹é€†å‘æ¨¡å¼çš„ADè¾ƒä¸ºé«˜æ•ˆï¼Œå› æ­¤Turingä¸¤ç§æ¨¡å¼éƒ½å­˜åœ¨ã€‚</p><h5 id="Vectorized-random-variables"><a href="#Vectorized-random-variables" class="headerlink" title="Vectorized random variables"></a>Vectorized random variables</h5><p>Turingæ”¯æŒåˆ©ç”¨ä»¥ä¸‹è¯­æ³•å¯¹ç‹¬ç«‹åŒåˆ†å¸ƒçš„å˜é‡è¿›è¡ŒçŸ¢é‡åŒ–é‡‡æ ·ï¼š</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rv = <span class="built_in">Vector</span>(<span class="number">10</span>)</span><br><span class="line">rv ~ [Normal(<span class="number">0</span>, <span class="number">1</span>)]</span><br></pre></td></tr></table></figure><h5 id="Constrained-random-variables"><a href="#Constrained-random-variables" class="headerlink" title="Constrained random variables"></a>Constrained random variables</h5><p>Turingæ”¯æŒçº¦æŸçš„å˜é‡ã€‚ä¸»è¦ç”±ä¸‰ç§ç±»å‹çš„çº¦æŸï¼š</p><ol><li>æœ‰ç•Œçš„å•å˜é‡ã€‚</li><li>æœ‰ç®€å•çº¦æŸçš„å¤šç»´å˜é‡ï¼Œå¦‚ç›¸åŠ å’Œä¸º$1$ã€‚</li><li>çŸ©é˜µçº¦æŸï¼šä¾‹å¦‚åæ–¹å·®çŸ©é˜µä¸ºåŠæ­£å®šçŸ©é˜µã€‚</li></ol><h5 id="MCMC-output-analysis"><a href="#MCMC-output-analysis" class="headerlink" title="MCMC output analysis"></a>MCMC output analysis</h5><p>åœ¨Turingä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>describe</code>å‡½æ•°è®¡ç®—ï¼š</p><ol><li>å‡å€¼</li><li>æ ‡å‡†å·®</li><li>naive standard error</li><li>è’™ç‰¹å¡æ´›æ ‡å‡†è¯¯å·®</li><li>æœ‰æ•ˆæ ·æœ¬æ•°</li><li>åˆ†ä½æ•°</li></ol><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>hpd</code>å‡½æ•°è®¡ç®—é«˜åéªŒæ¦‚ç‡åŒºé—´ï¼Œäº’ç›¸å…³<code>cor</code>ï¼Œè‡ªç›¸å…³<code>autocor</code>ï¼ŒçŠ¶æ€ç©ºé—´å˜åŒ–ç‡<code>changerate</code>å’Œåå·®ä¿¡æ¯å‡†åˆ™<code>dic</code>ç­‰ç­‰ã€‚</p><h4 id="Finding-the-right-inference-engine"><a href="#Finding-the-right-inference-engine" class="headerlink" title="Finding the right inference engine"></a>Finding the right inference engine</h4><p>ä¸‹é¢æˆ‘ä»¬å°†æ¯”è¾ƒ<code>NUTS</code>å’Œ<code>Gibbs(PG,HMC)</code>åœ¨ä¸åŒçš„æ¦‚ç‡æ¨¡å‹ä¸Šã€‚</p><h5 id="Models-and-inference-engine-setup"><a href="#Models-and-inference-engine-setup" class="headerlink" title="Models and inference engine setup"></a>Models and inference engine setup</h5><p><strong>Stochastic Volatility Model</strong>ï¼šå‚æ•°çš„é›†åˆä¸º$\{\phi,\sigma,\mu,h_{1:N}\}$ã€‚æ‰€æœ‰è¿™äº›å‚æ•°å¯¹äºç›®æ ‡åˆ†å¸ƒæ¥è¯´éƒ½æ˜¯å¯å¯¼çš„ï¼Œå› æ­¤NUTSç®—æ³•æ˜¯å¯ç”¨çš„ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\mu &\sim \mathcal{C} \mathrm{a}(0,10)), \phi \sim \mathcal{U} \mathrm{n}(-1,1), \sigma \sim \mathcal{C} \mathrm{a}(0,5), \quad(\sigma>0) \\h_{1} & \sim \mathcal{N}\left(\mu, \sigma / \sqrt{1-\phi^{2}}\right), h_{n} \sim \mathcal{N}\left(\mu+\phi\left(h_{n-1}-\mu\right), \sigma\right) \\y_{n} & \sim \mathcal{N}\left(0, \exp \left(h_{n} / 2\right)\right) \quad(n=2,3, \ldots, N) .\end{aligned}</script><p>å…¶ä¸­$\mathcal{C}\mathrm{a}$è¡¨ç¤ºæŸ¯è¥¿åˆ†å¸ƒã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spl1 = NUTS(<span class="number">1e4</span>, <span class="number">1e3</span>, <span class="number">0.65</span>)</span><br><span class="line">spl2 = Gibbs(<span class="number">1e4</span>, PG(<span class="number">5</span>, <span class="number">1</span>, :h), NUTS(<span class="number">1</span>, <span class="number">1e3</span>, <span class="number">0.65</span>, :mu, :phi, :sigma))</span><br></pre></td></tr></table></figure><p><strong>Gaussian Mixture Model</strong>ï¼šå‚æ•°çš„é›†åˆä¸º$\{z,\theta\}$ï¼Œå…¶ä¸­å‚æ•°$\theta$æ˜¯å¯å¯¼çš„ï¼Œå‚æ•°$z$ä¸å¯ä»¥ã€‚ä¸ºäº†è¿è¡ŒNUTSç®—æ³•ï¼Œæˆ‘ä»¬ç§¯åˆ†ç§¯æ‰$z$åªå¯¹$\theta$é‡‡æ ·ï¼š</p><script type="math/tex; mode=display">\begin{array}{r}\mu=\left(\mu_{1: K}\right), \quad \sigma=\left(\sigma_{1: K}\right), \quad \pi=\left(p_{1: K}\right) \\z \sim \operatorname{Cat}(\pi), \quad \theta \sim \mathcal{N}\left(\mu_{z}, \sigma_{z}\right)\end{array}</script><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spl3 = NUTS(<span class="number">5e4</span>, <span class="number">1000</span>, <span class="number">0.65</span>)</span><br><span class="line">spl4 = Gibbs(<span class="number">5e4</span>, PG(<span class="number">5</span>, <span class="number">1</span>, :z), NUTS(<span class="number">5e2</span>, <span class="number">1e3</span>, <span class="number">0.65</span>, :theta))</span><br></pre></td></tr></table></figure><h5 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h5><p><img src="http://static01.imgkr.com/temp/99d803e553514e089858f61d913babd1.jpg" alt=""></p><blockquote><p>ä¸Šå›¾ä¸ºåœ¨GMMæ¨¡å‹ä¸Štrace plotï¼Œä¸‹å›¾ä¸ºè”åˆåˆ†å¸ƒçš„æ¦‚ç‡çš„å¯¹æ•°çš„å›¾ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªç®—æ³•éƒ½è¾¾åˆ°äº†æ”¶æ•›ï¼Œä½†æ˜¯NUTSç®—æ³•åœ¨æŸäº›å¯¹æ–¹è¢«â€å›°ä½äº†â€ã€‚åœ¨ä¸‹å›¾æ›´æ˜æ˜¾ã€‚</p></blockquote><p><img src="http://static01.imgkr.com/temp/095ae7d0d5a54a33960b6cd2162133bc.jpg" alt=""></p><blockquote><p>å¯¹å…·æœ‰$5$ä¸ªæ··åˆçš„GMMé‡‡æ ·çš„ç»“æœï¼Œå¯ä»¥æ›´æ˜æ˜¾åœ°çœ‹åˆ°NUTSç®—æ³•è¢«å›°ä½äº†ï¼Œåœ¨å›¾çš„ä¸ŠåŠéƒ¨åˆ†åªæ¢ç´¢åˆ°äº†ä¸¤ä¸ªæ··åˆæˆåˆ†ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Turing-a-language-for-flexible-probabilistic-inference&quot;&gt;&lt;a href=&quot;#Turing-a-language-for-flexible-probabilistic-inference&quot; class=&quot;headerlink&quot; title=&quot;Turing: a language for flexible probabilistic inference&quot;&gt;&lt;/a&gt;Turing: a language for flexible probabilistic inference&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æ–‡ç« é“¾æ¥ï¼š&lt;a href=&quot;http://proceedings.mlr.press/v84/ge18b.html?ref=https://githubhelp.com&quot;&gt;http://proceedings.mlr.press/v84/ge18b.html?ref=https://githubhelp.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://static01.imgkr.com/temp/9ce5f3b2581549b8b89e6c9cdf7ebea5.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="æ–‡çŒ®é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="æ¦‚ç‡ç¼–ç¨‹" scheme="https://www.hfcouc.work/tags/%E6%A6%82%E7%8E%87%E7%BC%96%E7%A8%8B/"/>
    
    <category term="Julia" scheme="https://www.hfcouc.work/tags/Julia/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ç« A Conceptual Introduction to Hamiltonian Monte Carloé˜…è¯»ç¬”è®°</title>
    <link href="https://www.hfcouc.work/2022/06/22/HMC/"/>
    <id>https://www.hfcouc.work/2022/06/22/HMC/</id>
    <published>2022-06-22T09:51:00.000Z</published>
    <updated>2022-06-28T02:34:43.829Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="A-Conceptual-Introduction-to-Hamiltonian-Monte-Carlo"><a href="#A-Conceptual-Introduction-to-Hamiltonian-Monte-Carlo" class="headerlink" title="A Conceptual Introduction to Hamiltonian Monte Carlo"></a>A Conceptual Introduction to Hamiltonian Monte Carlo</h2><blockquote><p>æ–‡ç« é“¾æ¥ï¼š<a href="https://arxiv.org/abs/1701.02434">https://arxiv.org/abs/1701.02434</a></p></blockquote><p><img src="http://static01.imgkr.com/temp/8a010064bcee4b0eac9e9c05caa3f1ee.png" alt=""></p><span id="more"></span><h3 id="æœŸæœ›çš„è®¡ç®—"><a href="#æœŸæœ›çš„è®¡ç®—" class="headerlink" title="æœŸæœ›çš„è®¡ç®—"></a>æœŸæœ›çš„è®¡ç®—</h3><p>å¯¹äºç»™å®šå‡½æ•°$f(q)$ï¼Œæˆ‘ä»¬åœ¨ç»™å®šçš„$q$çš„åˆ†å¸ƒ$\pi (q)$ä¸Šè®¡ç®—å…¶æœŸæœ›ï¼š</p><script type="math/tex; mode=display">\mathbb{E}_{\pi}[f] = \int_{\mathcal{Q}}\pi(q)f(q)dq</script><p>ä¸€èˆ¬æƒ…å†µä¸‹æ­¤ç§¯åˆ†çš„åŸå‡½æ•°å¾—ä¸åˆ°ï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨è’™ç‰¹å¡æ´›çš„æ–¹æ³•ï¼Œåœ¨$\pi(q)$ä¸Šå¯¹$q$è¿›è¡Œé‡‡æ ·ï¼Œç”¨ä¸‹å¼è®¡ç®—æœŸæœ›ï¼š</p><script type="math/tex; mode=display">\mathbb{E}_{\pi}[f]\approx \frac{1}{n}\sum_{i=1}^n f(q_i)\quad q_i\sim \pi(q)</script><p>ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•åœ¨$\pi(q)$ä¸Šè¿›è¡Œé‡‡æ ·å‘¢ï¼Ÿä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæˆ‘ä»¬ä¸€èˆ¬é€‰æ‹©åœ¨æ¦‚ç‡å¯†åº¦è¾ƒé«˜çš„ä½ç½®è¿›è¡Œé‡‡æ ·ï¼Œå³åœ¨æ¦‚ç‡å¯†åº¦æœ€é«˜çš„é‚»åŸŸå†…è¿›è¡Œé‡‡æ ·ã€‚ä½†æ˜¯åœ¨é«˜ç»´æƒ…å†µä¸‹å­˜åœ¨é—®é¢˜ï¼Œå‡è®¾æˆ‘ä»¬åœ¨æ¦‚ç‡å¯†åº¦æœ€é«˜çš„$1/3$é‚»åŸŸå†…è¿›è¡Œé‡‡æ ·ï¼Œå½“ç»´åº¦ä¸º$n$æ—¶ï¼Œç§¯åˆ†åŒºåŸŸçš„ä½“ç§¯ä¸º$(1/3)^n$ï¼Œå½“$n$å¾ˆå¤§æ—¶è¶‹è¿‘äº$0$ï¼Œå› æ­¤å¯¹ç§¯åˆ†çš„è´¡çŒ®å¾ˆå°ã€‚è€Œæ¦‚ç‡å¯†åº¦è¾ƒå°çš„åœ°æ–¹ç”±äºæ¦‚ç‡å¯†åº¦è¶‹è¿‘äº$0$ï¼Œå¯¹ç§¯åˆ†çš„è´¡çŒ®ä¹Ÿä¸å¤§ã€‚æˆ‘ä»¬ç€é‡å…³æ³¨çš„åº”è¯¥æ˜¯ä»‹äºä¸¤è€…ä¹‹é—´çš„åŒºåŸŸï¼Œå…¶å¯¹ç§¯åˆ†çš„è´¡çŒ®è¾ƒå¤§ï¼Œæˆä¸ºå…¸å‹é›†(typical set)ã€‚æˆ‘ä»¬ç ”ç©¶çš„é‡ç‚¹åœ¨äºå¦‚ä½•åœ¨<strong>å…¸å‹é›†ä¸Šé‡‡æ ·</strong>ã€‚</p><h3 id="é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›æ–¹æ³•"><a href="#é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›æ–¹æ³•" class="headerlink" title="é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›æ–¹æ³•"></a>é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›æ–¹æ³•</h3><h4 id="ç†æƒ³çŠ¶æ€"><a href="#ç†æƒ³çŠ¶æ€" class="headerlink" title="ç†æƒ³çŠ¶æ€"></a>ç†æƒ³çŠ¶æ€</h4><p>åˆ©ç”¨é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›(MCMC)æ–¹æ³•å¯ä»¥åœ¨å…¸å‹é›†ä¸Šè¿›è¡Œé‡‡æ ·ã€‚åœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼ŒMCMCçš„é‡‡æ ·è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p><ol><li>ä»åˆå§‹ä½ç½®åˆ°å…¸å‹é›†ï¼Œæ­¤æ—¶åå·®(bias)è¾ƒå¤§ã€‚</li><li>è¿›å…¥å…¸å‹é›†åï¼Œåœ¨å…¸å‹é›†ä¸Šè¿›è¡Œæ¢ç´¢ï¼Œå‡†ç¡®åº¦è¿…é€Ÿä¸Šå‡ã€‚</li><li>ç»§ç»­åœ¨å…¸å‹é›†ä¸Šè¿›è¡Œæ¢ç´¢ï¼Œå‡†ç¡®åº¦ä¸Šå‡ç¼“æ…¢ã€‚</li></ol><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://static01.imgkr.com/temp/1a1df50a72d54d1998ae2b266f3e3aed.jpg" alt=""></p><blockquote><p>å›¾(a)è¡¨ç¤ºé˜¶æ®µ1ï¼Œå›¾(b)è¡¨ç¤ºé˜¶æ®µ2ï¼Œå›¾(c)è¡¨ç¤ºé˜¶æ®µ3ã€‚</p></blockquote><p>å½“è¾¾åˆ°é˜¶æ®µ3æ—¶ï¼Œä¼°è®¡çš„ç»“æœç¬¦åˆå¤§æ•°å®šå¾‹ï¼š</p><script type="math/tex; mode=display">\hat{f}^{\text{MCMC}}_N\sim \mathcal{N}(\mathbb{E}_{\pi}[f],\text{MCMC-SE})</script><p>å…¶ä¸­è’™ç‰¹å¡æ´›è¯¯å·®ä¸ºï¼š</p><script type="math/tex; mode=display">\text{MCMC-SE}\equiv \sqrt{\frac{\text{Var}_{\pi}[f]}{\text{ESS}}}</script><p>å…¶ä¸­ESSä¸ºæœ‰æ•ˆæ ·æœ¬é‡ï¼Œå®šä¹‰ä¸ºï¼š</p><script type="math/tex; mode=display">\text{ESS} = \frac{N}{1+2\sum_{l=1}^\infty \rho_l}</script><p>å…¶ä¸­$\rho_l$ä¸ºä¹‹å$l$çš„è‡ªç›¸å…³ç³»æ•°ã€‚</p><h4 id="ç—…æ€æƒ…å†µ"><a href="#ç—…æ€æƒ…å†µ" class="headerlink" title="ç—…æ€æƒ…å†µ"></a>ç—…æ€æƒ…å†µ</h4><p>å½“å…¸å‹é›†å†…å­˜åœ¨é«˜æ›²ç‡åŒºåŸŸæ—¶ï¼Œä¼šå¯¼è‡´æ­¤åŒºåŸŸæ— æ³•è¢«æ¢ç´¢ï¼Œé€ æˆåå·®ã€‚</p><p><img src="http://static01.imgkr.com/temp/ef84320549ab469690733e68a944729c.jpg" alt=""></p><blockquote><p>ç—…æ€æƒ…å†µï¼šå…¶ä¸­ç»¿è‰²åŒºåŸŸè¡¨ç¤ºé«˜æ›²ç‡åŒºåŸŸã€‚å­˜åœ¨ä¸‰ç§æƒ…å†µï¼š</p><ol><li>æ— æ³•è·¨è¿‡æ­¤é«˜æ›²ç‡åŒºåŸŸï¼Œä»…åœ¨ä¸€ä¾§è¿›è¡Œé‡‡æ ·ã€‚</li><li>åœ¨é«˜æ›²ç‡åŒºåŸŸå‘¨å›´éœ‡è¡ã€‚</li><li>å¯ä»¥è·¨è¿‡é«˜åŒºåŸŸåŒºåŸŸï¼Œåœ¨æ•´ä¸ªå…¸å‹é›†ä¸Šè¿›è¡Œé‡‡æ ·ã€‚</li></ol></blockquote><h4 id="Metropolis-Hastingsé‡‡æ ·"><a href="#Metropolis-Hastingsé‡‡æ ·" class="headerlink" title="Metropolis-Hastingsé‡‡æ ·"></a>Metropolis-Hastingsé‡‡æ ·</h4><p>ä¸€ä¸ªè¾ƒä¸ºç®€å•çš„MCMCæ–¹æ³•ä¸ºM-Hé‡‡æ ·(Metropolis-Hastingsé‡‡æ ·)ï¼Œåœ¨å±€éƒ¨åˆ©ç”¨å»ºè®®åˆ†å¸ƒå¯¹ç›®æ ‡åˆ†å¸ƒè¿›è¡Œè¿‘ä¼¼ï¼Œå…¶åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>åœ¨æè®®åˆ†å¸ƒ$\mathbb{Q}(q^\prime\mid q)$è¿›è¡Œé‡‡æ ·</li><li>è®¡ç®—æ¥å—ç‡<script type="math/tex">a(q^\prime\mid q) = \min\left(1,\frac{\mathbb{Q}(q\mid q^\prime)\pi(q^\prime)}{\mathbb{Q}(q^\prime\mid q)\pi(q)}\right)</script>ï¼Œå¦‚æœ$a$å¤§äºç”Ÿæˆçš„$0\sim1$ä¹‹é—´çš„éšæœºæ•°ï¼Œæ¥å—æ ·æœ¬$q^\prime$ï¼Œå¦åˆ™ç»§ç»­æ¥å—æ ·æœ¬$q$ã€‚<br>ä½†æ˜¯M-Hé‡‡æ ·åœ¨é«˜ç»´æƒ…å†µä¸‹å­˜åœ¨æ¥å—ç‡è¿‡ä½çš„é—®é¢˜ã€‚</li></ol><h3 id="Hamiltonian-Monte-Carlo"><a href="#Hamiltonian-Monte-Carlo" class="headerlink" title="Hamiltonian Monte Carlo"></a>Hamiltonian Monte Carlo</h3><p>æ±‰å¯†å°”é¡¿è’™ç‰¹å¡æ´›(HMC)æ–¹æ³•ï¼šæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¸å‹é›†çš„å½¢çŠ¶çš„ç‰¹å¾æ¥è¿›è¡Œé‡‡æ ·ã€‚æˆ‘ä»¬ä¸å†åœ¨å…¸å‹é›†ä¸Šéšæœºç§»åŠ¨ï¼Œè€Œæ˜¯é€šè¿‡å‘é‡åœºçš„å½¢å¼æ¥æŒ‡ç¤ºç§»åŠ¨çš„æ–¹å‘ï¼Œä½¿å…¶é«˜æ•ˆåœ°åœ¨å…¸å‹é›†ä¸Šç§»åŠ¨ã€‚</p><p>æˆ‘ä»¬å°†æ¦‚ç‡ç³»ç»Ÿç±»æ¯”äºç‰©ç†ç³»ç»Ÿï¼Œå…¸å‹é›†ç±»ä¼¼äºè¡Œæ˜Ÿç»•åœ°çƒæ—‹è½¬åœ°è½¨é“ã€‚å¯¹äºè¡Œæ˜Ÿï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ åŠ¨é‡æ¥æŠµæ¶ˆé‡åŠ›ä½¿è¡Œæ˜Ÿæ­£å¸¸å›´ç»•åœ°çƒè¿åŠ¨ï¼›ç±»æ¯”äºæ¦‚ç‡ç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ åŠ¨é‡æ¥æŠµæ¶ˆæ¢¯åº¦ä½¿é©¬å°”å¯å¤«é“¾åœ¨å…¸å‹é›†ä¸Šé‡‡æ ·ã€‚</p><h4 id="ç›¸ç©ºé—´å’Œæ±‰å¯†å°”é¡¿æ–¹ç¨‹"><a href="#ç›¸ç©ºé—´å’Œæ±‰å¯†å°”é¡¿æ–¹ç¨‹" class="headerlink" title="ç›¸ç©ºé—´å’Œæ±‰å¯†å°”é¡¿æ–¹ç¨‹"></a>ç›¸ç©ºé—´å’Œæ±‰å¯†å°”é¡¿æ–¹ç¨‹</h4><p>æˆ‘ä»¬éœ€è¦å¼•å…¥åŠ¨é‡å‚æ•°æ¥è¡¥å……ç›®æ ‡å‚æ•°ç©ºé—´çš„æ¯ä¸ªç»´åº¦ï¼š</p><script type="math/tex; mode=display">q_n \rightarrow (q_n,p_n)</script><p>è¿™æ ·å°†$D$ç»´ç©ºé—´æ‹“å±•ä¸ºäº†$2D$ç»´çš„ç©ºé—´ï¼Œæˆ‘ä»¬å°±å°†ç›®æ ‡å‚æ•°ç©ºé—´æ‹“å±•ä¸ºäº†ç›¸ç©ºé—´ã€‚ç›¸ç©ºé—´ä¸Šçš„è”åˆåˆ†å¸ƒæˆä¸ºå…¸å‹åˆ†å¸ƒ(canonical distribution)ï¼š</p><script type="math/tex; mode=display">\pi(q,p) = \pi(p\mid q)\pi(q)</script><p>è¿™æ ·æˆ‘ä»¬å¯¹åŠ¨é‡å‚æ•°è¿›è¡Œç§¯åˆ†åå¾ˆå®¹æ˜“å¾—åˆ°æˆ‘ä»¬è¦é‡‡æ ·çš„ç›®æ ‡å‚æ•°ã€‚</p><p>æˆ‘ä»¬å°†å…¸å‹åˆ†å¸ƒå†™ä¸ºä¸å˜çš„æ±‰å¯†å°”é¡¿å‡½æ•°çš„å½¢å¼ï¼š</p><script type="math/tex; mode=display">\pi(q,p) = \exp^{-H(q,p)}</script><p>æ‰€ä»¥ï¼š</p><script type="math/tex; mode=display">\begin{aligned}H(q,p) &= -\log\pi(p\mid q) - \log\pi(q)\\&\equiv K(p,q) + V(q)\end{aligned}</script><p>å…¶ä¸­$K(p,q)$è¢«ç§°ä¸ºåŠ¨èƒ½ï¼Œ$V(q)$è¢«ç§°ä¸ºåŠ¿èƒ½ã€‚</p><p>æˆ‘ä»¬åˆ©ç”¨æ±‰å¯†å°”é¡¿æ–¹ç¨‹æ¥ç”Ÿæˆå‘é‡åœºï¼š</p><script type="math/tex; mode=display">\begin{aligned}\frac{dq}{dt} &= + \frac{\partial H}{\partial p} = \frac{\partial K}{\partial p}\\\frac{dp}{dt} &= -\frac{\partial H}{\partial q} = -\frac{\partial K}{\partial q} - \frac{\partial V}{\partial q}\end{aligned}</script><p>æ‰€ä»¥æ±‰å¯†å°”é¡¿æ–¹ç¨‹æ˜¯ä¸éšæ—¶é—´å‘ç”Ÿæ”¹å˜çš„ï¼Œå› ä¸ºï¼š</p><script type="math/tex; mode=display">\begin{aligned}\frac{dH}{dt} &= \frac{\partial H}{\partial p}\frac{d p}{dt} + \frac{\partial H}{\partial q}\frac{d q}{dt}\\&= -\frac{\partial H}{\partial p}\frac{\partial H}{\partial q} + \frac{\partial H}{\partial q}\frac{\partial H}{\partial p}\\&=0\end{aligned}</script><h4 id="ç†æƒ³æ¡ä»¶ä¸‹çš„æ±‰å¯†å°”é¡¿è½¬ç§»"><a href="#ç†æƒ³æ¡ä»¶ä¸‹çš„æ±‰å¯†å°”é¡¿è½¬ç§»" class="headerlink" title="ç†æƒ³æ¡ä»¶ä¸‹çš„æ±‰å¯†å°”é¡¿è½¬ç§»"></a>ç†æƒ³æ¡ä»¶ä¸‹çš„æ±‰å¯†å°”é¡¿è½¬ç§»</h4><p>ç†æƒ³æ¡ä»¶ä¸‹çš„HMCå¯ä»¥åˆ†ä¸º3ä¸ªæ­¥éª¤ï¼š</p><ol><li>ä»åˆå§‹ä½ç½®äº§ç”Ÿåˆå§‹åŠ¨é‡</li><li>ä»¥æ­¤ç±»æ¨äº§ç”Ÿè½¨è¿¹</li><li>ä»ç›¸ç©ºé—´æŠ•å½±åˆ°å‚æ•°ç©ºé—´</li></ol><h3 id="é«˜æ•ˆçš„HMC"><a href="#é«˜æ•ˆçš„HMC" class="headerlink" title="é«˜æ•ˆçš„HMC"></a>é«˜æ•ˆçš„HMC</h3><h4 id="ç›¸ç©ºé—´çš„å‡ ä½•å½¢çŠ¶"><a href="#ç›¸ç©ºé—´çš„å‡ ä½•å½¢çŠ¶" class="headerlink" title="ç›¸ç©ºé—´çš„å‡ ä½•å½¢çŠ¶"></a>ç›¸ç©ºé—´çš„å‡ ä½•å½¢çŠ¶</h4><p>æ±‰å¯†å°”é¡¿å…¬å¼çš„æ€§è´¨ä½¿æ±‰å¯†å°”é¡¿æ–¹ç¨‹çš„å€¼å§‹ç»ˆä¿æŒä¸å˜ã€‚è¯å¥è¯è¯´ï¼Œæ¯ä¸€ä¸ªæ±‰å¯†å°”é¡¿è½¨è¿¹éƒ½ä½¿ä¸€ä¸ªèƒ½çº§ï¼š</p><script type="math/tex; mode=display">H^{-1}(E) = \{q,p\mid H(q,p)=E\}</script><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç›¸ç©ºé—´å¯ä»¥è¢«åˆ†è§£ç»´æ±‰å¯†å°”é¡¿èƒ½çº§ã€‚</p><p><img src="http://static01.imgkr.com/temp/028f6ae9a0074f3cb6047d241f6e3945.jpg" alt=""></p><p>æ‰€ä»¥æˆ‘ä»¬çš„é‡‡æ ·è¿‡ç¨‹å¯ä»¥åˆ†è§£ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œä¸€ä¸ªæ˜¯åœ¨ç›¸åŒçš„èƒ½çº§ä¸Šè¿›è¡Œé‡‡æ ·ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸åŒçš„èƒ½çº§ä¸Šè¿›è¡Œè·ƒè¿ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="http://static01.imgkr.com/temp/72b6558918b7415589144699fd37eb61.jpg" alt=""></p><blockquote><p>æ·±çº¢è‰²è¡¨ç¤ºåœ¨ç›¸åŒçš„èƒ½çº§ä¸Šè¿›è¡Œé‡‡æ ·ï¼Œæµ…çº¢è‰²çš„è¡¨ç¤ºåœ¨ä¸åŒèƒ½çº§ä¸Šè¿›è¡Œè·ƒè¿ã€‚</p></blockquote><h4 id="å¯¹åŠ¨èƒ½çš„ä¼˜åŒ–"><a href="#å¯¹åŠ¨èƒ½çš„ä¼˜åŒ–" class="headerlink" title="å¯¹åŠ¨èƒ½çš„ä¼˜åŒ–"></a>å¯¹åŠ¨èƒ½çš„ä¼˜åŒ–</h4><p>æ¬§å‡ é‡Œå¾—-é«˜æ–¯åŠ¨èƒ½ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\Delta(q,q^\prime) &= (q-q^\prime)^\top\cdot M\cdot(q-q^\prime)\\\Delta(p,p^\prime) &= (p-p^\prime)^\top\cdot M^{-1}\cdot(p-p^\prime)\end{aligned}</script><p>æˆ‘ä»¬ä¸€èˆ¬å®šä¹‰æ¡ä»¶åˆ†å¸ƒä¸ºï¼š</p><script type="math/tex; mode=display">\pi(p\mid q) = \mathcal{N}(p\mid 0,M)</script><p>è¿™ç§ç‰¹æ®Šé€‰æ‹©å®šä¹‰äº†æ¬§å‡ é‡Œå¾—-é«˜æ–¯åŠ¨èƒ½ï¼š</p><script type="math/tex; mode=display">K(q,p) = \frac{1}{2}P^\top \cdot M^{-1}\cdot p + \frac{1}{2}\log|M|+\text{const}</script><p>é»æ›¼-é«˜æ–¯åŠ¨èƒ½å‡½æ•°ï¼šä¸æ¬§å‡ é‡Œå¾—-é«˜æ–¯åŠ¨èƒ½å‡½æ•°ä¸åŒä¹‹å¤„ä¸ºåæ–¹å·®ä¸ä½ç½®æœ‰å…³ï¼š</p><script type="math/tex; mode=display">\pi(p\mid q) = \mathcal{N}(p\mid 0,\Sigma(q))</script><p>å®šä¹‰äº†é»æ›¼-é«˜æ–¯åŠ¨èƒ½ï¼š</p><script type="math/tex; mode=display">K(q,p) = \frac{1}{2}p^\top\cdot\Sigma^{-1}(q)\cdot p+\frac{1}{2}\log|\Sigma(q)| + \text{const}</script><h4 id="å¯¹ç§¯åˆ†æ—¶é—´çš„ä¼˜åŒ–"><a href="#å¯¹ç§¯åˆ†æ—¶é—´çš„ä¼˜åŒ–" class="headerlink" title="å¯¹ç§¯åˆ†æ—¶é—´çš„ä¼˜åŒ–"></a>å¯¹ç§¯åˆ†æ—¶é—´çš„ä¼˜åŒ–</h4><p>è¿™é‡Œçš„ç§¯åˆ†æ—¶é—´æŒ‡çš„æ˜¯åœ¨æŸä¸ªç‰¹å®šèƒ½çº§ä¸Šçš„æ¢ç´¢æ—¶é—´(æ­¥æ•°)ã€‚éšç€ç§¯åˆ†æ—¶é—´çš„å¢åŠ ï¼Œæ—¶é—´æœŸæœ›ä¼šæ”¶æ•›åˆ°ç©ºé—´æœŸæœ›ã€‚</p><p><img src="http://static01.imgkr.com/temp/cca5d76d452f47f695f3a308dfe6602f.jpg" alt=""></p><blockquote><p>å›¾(a)ï¼šæ—¶é—´æœŸæœ›ä¸ç©ºé—´æœŸæœ›çš„å·®å€¼çš„ç»å¯¹å€¼éšç€ç§¯åˆ†æ—¶é—´çš„å˜åŒ–ï¼Œå¯ä»¥çœ‹åˆ°åˆ°ç§¯åˆ†æ—¶é—´åˆ°è¾¾ä¸€å®šçš„ç¨‹åº¦åï¼Œå¢åŠ ç§¯åˆ†æ—¶é—´å¯¹ç»“æœäº§ç”Ÿçš„å½±å“å¹¶ä¸å¤§ï¼›å›¾(b)ï¼šæœ‰æ•ˆæ ·æœ¬æ•°éšç€ç§¯åˆ†æ—¶é—´çš„å˜åŒ–ï¼Œä¸å›¾(a)å˜åŒ–ç±»ä¼¼ï¼›å›¾(c)ï¼šæœ‰æ•ˆæ ·æœ¬æ•°/ç§¯åˆ†æ—¶é—´éšç€ç§¯åˆ†æ—¶é—´çš„å˜åŒ–ï¼Œå…ˆå¢åŠ åå‡å°ï¼Œå­˜åœ¨æœ€å¤§å€¼ã€‚</p></blockquote><p>å½“ç›®æ ‡æ¦‚ç‡å¯†åº¦ä¸ºï¼š</p><script type="math/tex; mode=display">\pi_\beta(q)\propto \exp(-|q|^\beta)</script><p>åŠ¨èƒ½å‡½æ•°ä¸ºæ¬§å‡ é‡Œå¾—åŠ¨èƒ½ï¼š</p><script type="math/tex; mode=display">\pi(p\mid q) = \mathcal{N}(0,1)</script><p>æœ€ä¼˜ç§¯åˆ†æ—¶é—´ä¸åŒ…å«è½¨è¿¹çš„èƒ½çº§çš„èƒ½é‡æˆæ¯”ä¾‹ï¼š</p><script type="math/tex; mode=display">T_{\text{optimal}}(q,p)\propto (H(q,p))^{\frac{2-\beta}{2\beta}}</script><h3 id="åœ¨å®è·µä¸­å®ç°HMC"><a href="#åœ¨å®è·µä¸­å®ç°HMC" class="headerlink" title="åœ¨å®è·µä¸­å®ç°HMC"></a>åœ¨å®è·µä¸­å®ç°HMC</h3><p>ç”±äºåœ¨ç»å¤§æ•°æƒ…å†µä¸‹æˆ‘ä»¬ä¸èƒ½å‡†ç¡®åœ°æ±‚è§£å“ˆå¯†é¡¿æ–¹ç¨‹ï¼Œå¿…é¡»é‡‡ç”¨æ•°å€¼æ±‚è§£çš„æ–¹æ³•ï¼Œä½†æ˜¯æ•°å€¼æ±‚è§£çš„è¿‡ç¨‹ä¼šç´¯ç§¯è¯¯å·®ï¼Œå¯¹æˆ‘ä»¬çš„ç»“æœäº§ç”Ÿå½±å“ã€‚</p><h4 id="Symplectic-Integrators"><a href="#Symplectic-Integrators" class="headerlink" title="Symplectic Integrators"></a>Symplectic Integrators</h4><p>Symplectic Integrators(è¾›ç§¯åˆ†å™¨)æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç§¯åˆ†å™¨ï¼Œå®ƒäº§ç”Ÿçš„æ•°å€¼è½¨è¿¹ä¸ä¼šåç¦»ç²¾ç¡®çš„èƒ½çº§ï¼Œè€Œæ˜¯åœ¨å…¶é™„è¿‘éœ‡è¡ï¼Œå³ä½¿åœ¨å¾ˆé•¿çš„ç§¯åˆ†æ—¶é—´å†…ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><script type="math/tex; mode=display">\begin{aligned}&q_{0} \leftarrow q, p_{0} \leftarrow p \\&\text {for } 0 \leq n<\llcorner T / \epsilon\lrcorner \text { do } \\&\quad p_{n+\frac{1}{2}}  \leftarrow p_{n}-\frac{\epsilon}{2} \frac{\partial V}{\partial q}\left(q_{n}\right) \\&\quad q_{n+1}  \leftarrow q_{n}+\epsilon p_{n+\frac{1}{2}} \\&\quad p_{n+1} \leftarrow p_{n+\frac{1}{2}}-\frac{\epsilon}{2} \frac{\partial V}{\partial q}\left(q_{n+1}\right)\\&\text {end for. }\end{aligned}</script><h4 id="çº æ­£è¾›ç§¯åˆ†å™¨"><a href="#çº æ­£è¾›ç§¯åˆ†å™¨" class="headerlink" title="çº æ­£è¾›ç§¯åˆ†å™¨"></a>çº æ­£è¾›ç§¯åˆ†å™¨</h4><p>æˆ‘ä»¬åœ¨æ¯ä¸ªèƒ½çº§ä¸Šè¿è¡Œ$L$æ­¥ï¼Œå–æœ€åä¸€ä¸ªæ ·æœ¬$(q_L,p_L)$ï¼Œä¹‹åè¿›è¡Œèƒ½çº§è·ƒè¿ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯ä½¿ç”¨æ•°å€¼çš„æ–¹æ³•ï¼Œå› æ­¤åœ¨åŒä¸€ä¸ªèƒ½çº§ä¸Šé‡‡æ ·ä¸Šå¯èƒ½ä¸èƒ½ä¿æŒèƒ½é‡ä¸å˜ã€‚å› æ­¤æˆ‘ä»¬å€Ÿç”¨M-Hé‡‡æ ·çš„æ€æƒ³æ¥å¯¹æ ·æœ¬è¿›è¡Œè¿›è¡Œæ¥å—-æ‹’ç»ï¼Œå› ä¸ºåœ¨åŒä¸€ä¸ªèƒ½çº§ä¸Šé‡‡æ ·å½“ç¡®å®šåˆå§‹ç‚¹æ—¶é‡‡åˆ°çš„æ ·æœ¬æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ï¼š</p><script type="math/tex; mode=display">\mathbb{Q}(q_0,p_0\mid q_L,p_L) = \mathbb{Q}(q_L,p_L\mid q_0,p_0)=1</script><p>å…¶æ¥å—æ¦‚ç‡ä¸ºï¼š</p><script type="math/tex; mode=display">\begin{aligned}a\left(q_{L},p_{L} \mid q_{0}, p_{0}\right) &=\min \left(1, \frac{\mathbb{Q}\left(q_{0}, p_{0} \mid q_{L},p_{L}\right) \pi\left(q_{L},p_{L}\right)}{\mathbb{Q}\left(q_{L},p_{L} \mid q_{0}, p_{0}\right) \pi\left(q_{0}, p_{0}\right)}\right) \\&=\min \left(1, \frac{\pi\left(q_{L},p_{L}\right)}{\pi\left(q_{0}, p_{0}\right)}\right) \\&=\min \left(1, \frac{\exp \left(-H\left(q_{L},p_{L}\right)\right)}{\exp \left(-H\left(q_{0}, p_{0}\right)\right)}\right) \\&=\min \left(1, \exp \left(-H\left(q_{L},p_{L}\right)+H\left(q_{0}, p_{0}\right)\right)\right)\end{aligned}</script>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;A-Conceptual-Introduction-to-Hamiltonian-Monte-Carlo&quot;&gt;&lt;a href=&quot;#A-Conceptual-Introduction-to-Hamiltonian-Monte-Carlo&quot; class=&quot;headerlink&quot; title=&quot;A Conceptual Introduction to Hamiltonian Monte Carlo&quot;&gt;&lt;/a&gt;A Conceptual Introduction to Hamiltonian Monte Carlo&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æ–‡ç« é“¾æ¥ï¼š&lt;a href=&quot;https://arxiv.org/abs/1701.02434&quot;&gt;https://arxiv.org/abs/1701.02434&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://static01.imgkr.com/temp/8a010064bcee4b0eac9e9c05caa3f1ee.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="æ–‡çŒ®é˜…è¯»" scheme="https://www.hfcouc.work/categories/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="ç®—æ³•" scheme="https://www.hfcouc.work/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>åªäº‰æœå¤•ï¼Œä¸è´ŸéŸ¶å</title>
    <link href="https://www.hfcouc.work/2021/07/13/index/"/>
    <id>https://www.hfcouc.work/2021/07/13/index/</id>
    <published>2021-07-13T12:13:25.471Z</published>
    <updated>2022-07-01T11:08:05.709Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><h1 align="center">    å‡¡æ˜¯è¿‡å¾€çš†ä¸ºåºç« ï¼Œæ‰€æœ‰å°†æ¥çš†å¯ç›¼ã€‚</h1></p><p align="center">    <img src="https://raw.githubusercontent.com/HFC666/image/master/img/head.jpg" style="zoom: 100%;" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
</feed>
